<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Un test Modernizr pour les contrastes Ã©levÃ©s</title>
		<meta name="description" content="">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
		<link rel="stylesheet" href="/assets/styles.min.css" media="all">
		<link rel="stylesheet" href="/assets/impression.min.css" media="print">
		<!-- @todo Ajouter le flux RSS
			<link rel="alternate" type="application/rss+xml" title="La vie en #ffoodd | Flux RSS" href="/feed/">
		-->
	</head>
	<body class="tk-museo-slab" itemscope itemtype="https://schema.org/WebPage">
		<a class="skip scroll pa1 inbl smaller print-hidden" href="#content">Aller au contenu</a>
		<div class="row">
			<nav class="col txtright pt8 w-33 pl0 pr0 print-hidden" id="nav" role="navigation">
				<ul class="menu aside p-reset m-reset ul-reset">
					<li class="tk-bello-pro h1-like m-reset">
						<a href="/">ffoodd</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/plus/">Ã€ propos</a>
					</li>
					<!-- @todo gÃ©rer lâ€™URL ? Une redirection ? -->
					<li class="h3-like m-reset">
						<a href="/category/journal/">Journal</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/travaux/">Parcours</a>
					</li>
				</ul>
			</nav>

			<main class="col w--site pl3 pb3 pr5" id="content" role="main" role="main" itemprop="mainContentOfPage">
				<div class="logo print-hidden">
					<img src="/assets/img/embossed-ffoodd.png" alt="La vie en #ffoodd" id="logo" width="144" height="144">
				</div>
				<article role="article" itemscope itemtype="https://schema.org/Article">
				
					<header class="center pt1 mb1" role="banner">
						<h1 class="mb0 mt0 tk-bello-pro" itemprop="name">Un test Modernizr pour les contrastes Ã©levÃ©s</h1>
						
	<nav role="navigation" aria-labelledby="here" class="print-hidden small mt2 mb1">
		<span id="here">Vous Ãªtes ici&nbsp;: </span>
		<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
			<a href="/" itemprop="url"><span itemprop="title">La vie en #ffoodd</span></a>
			<span> â€º&nbsp;</span>
		</div><div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
			<a href="/journal/" itemprop="url"><span itemprop="title">Journal</span></a>
			<span> â€º&nbsp;</span>
		</div><div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
			<span itemprop="title">Un test Modernizr pour les contrastes Ã©levÃ©s</span>
		</div>
	</nav>

						
					</header>
					
	<div itemprop="articleBody">
		<p>Malheureusement, il ne rÃ©pond pas correctement lorsque lÊ¼utilisateur a personnalisÃ© les couleurs des liens ou utilise un thÃ¨me navigateur aux contrastes Ã©levÃ©s â€”Â ce que jÊ¼ai testÃ© avec Firefox. En sus, et bien quÊ¼il soit conÃ§u de faÃ§on Ã  renvoyer un boolÃ©en, il se couple difficilement avec un outil spÃ©cialisÃ© tel que <a href="https://modernizr.com/">Modernizr</a>.</p>
<h2>Les changements</h2>
<p>On va faire simple, puisque vous avez lÊ¼exemple de Karl Groves en amontÂ ! Les seules modifications apportÃ©es sontÂ :</p>
<ul>
<li>un peu de nettoyage, principalement des variables inutilesÂ ;</li>
<li>lÊ¼Ã©lÃ©ment crÃ©Ã© est un lien au lieu dÊ¼une divisionÂ ;</li>
<li>la condition finale pour renvoyer le boolÃ©en a Ã©tÃ© allÃ©gÃ©e.</li>
</ul>
<h2>Le code</h2>
<p>Pas de miracle, lÊ¼ajout de test dans Modernizr est <a href="https://modernizr.com/docs#modernizr-addtest">bien documentÃ©</a>. Voici ce que jÊ¼ai rÃ©alisÃ© â€”Â qui est probablement amÃ©liorable.[^1]</p>
<p>[^1]: Ceci est une invitation, toutes les aimables personnes qui apporteront leur aide auront droit Ã  ma gratitude Ã©ternelle et plein de trucs dans ce goÃ»t-lÃ .</p>
<pre><code class="language-javascript">
Modernizr.addTest(&quot;highcontrast&quot;, function() {
  var objA = document.createElement(&quot;a&quot;),
  strColor;
  objA.style.color = &quot;rgb(31, 41, 59)&quot;;
  document.documentElement.appendChild(objA);
  strColor = document.defaultView ? document.defaultView.getComputedStyle(objA, null).color : objA.currentStyle.color;
  strColor = strColor.replace(/ /g, &quot;&quot;);
  document.documentElement.removeChild(objA);
  return strColor !== &quot;rgb(31,41,59)&quot;;
});
</code></pre>
<p>Rien de bien mÃ©chantÂ ğŸ˜Š JÊ¼ai crÃ©Ã© <a href="http://codepen.io/ffoodd/pen/RWmmOO">un CodePen dÃ©diÃ© uniquement Ã  ce test</a> avec quelques commentaires et une illustration basique en HTML.</p>
<h2>La couverture</h2>
<p>Pour commencer, cette version est un test Modernizr. Nul besoin de tÃ©lÃ©charger tout la bibliothÃ¨que de tests cependant, sa seule et unique dÃ©pendance est la mÃ©thode <code>addTest()</code>, dont lÊ¼outil de construction personnalisÃ©e de Modernizr indique quÊ¼elle pÃ¨se 2,53Â kB (et 1,08Â kB une fois compressÃ© avec gzip).</p>
<p>Ensuite et pour le cas ou vous ne liriez pas couramment le JavaScript, le test procÃ¨de ainsiÂ :</p>
<ol>
<li>il crÃ©e un lienÂ ;</li>
<li>il attache ce dernier au documentÂ </li>
<li>il lÊ¼affuble dÊ¼une couleur <em>via</em> CSSÂ ;</li>
<li>il rÃ©cupÃ¨re la valeur calculÃ©e pour la couleur du lienÂ ;</li>
<li>il supprime le lien crÃ©Ã© au dÃ©butÂ ;</li>
<li>et il renvoie finalement une affirmation quÊ¼on peut formuler ainsiÂ : Â«Â la couleur calculÃ©e est-elle Ã©gale Ã  la couleur dÃ©finie par le testÂ ?Â Â».</li>
</ol>
<p>Le rÃ©sultat est donc soit vrai, soit faux (cÊ¼est le principe du <a href="https://fr.wikipedia.org/wiki/Bool%C3%A9en">boolÃ©en</a>). Donc pour rÃ©sumer, ce test vÃ©rifie que la couleur calculÃ©e par le navigateur correspond Ã  la couleur quÊ¼on lui demandeÂ : si ce nÊ¼est pas le cas, lÊ¼utilisateur interfÃ¨re avec les styles envoyÃ©s dÊ¼une maniÃ¨re ou dÊ¼une autre. Les cas les plus courants sont <strong>le mode de contrastes Ã©levÃ©s</strong> du systÃ¨me dÊ¼exploitation, et <strong>les styles utilisateurs</strong> fournis par le navigateur sur demande de lÊ¼utilisateur.</p>
<p>Ce test rÃ©pond correctement dans deux cas prÃ©cis identifiÃ©sÂ :</p>
<ul>
<li>le mode de contrastes Ã©levÃ©s de Windows, testÃ© avec Edge et FirefoxÂ ;</li>
<li>les paramÃ¨tres de personnalisation de thÃ¨me et couleurs dans Firefox, sur tous les systÃ¨mes.</li>
</ul>
<p>Il serait gÃ©nial de tester plus avant dÊ¼autres configurations, afin de prÃ©ciser la couverture et de repÃ©rer dÊ¼Ã©ventuels faux positifs ou nÃ©gatifs. JÊ¼ai crÃ©Ã© <a href="https://gist.github.com/ffoodd/78f99204b5806e183574">un Gist</a> dÊ¼aprÃ¨s le CodePen prÃ©cÃ©demment liÃ© â€”Â nÊ¼hÃ©sitez pas Ã  le forker, le commenter, le triturer comme bon vous sembleÂ !</p>

	</div>
	<!-- @todo GÃ©rer les commentaires -->

				</article>
				
			</main>

			<aside class="col pt8 pl0 pr0 print-hidden" role="complementary">
				<!-- @todo GÃ©rer le sommaire, pour les articles et pages -->
				<div class="aside pl2 pt2">
					<h3 class="tk-bello-pro h2-like m-reset">Ã€ lire ailleurs</h3>
					<div class="textwidget">
						<ul>
							<li>
								<a href="https://openweb.eu.org/articles/du-consommateur-au-producteur">sur Openweb</a>
							</li>
							<li>
								<a href="https://www.alsacreations.com/livres/lire/1503-webgrids-structure-et-typographie-de-la-page-web.html">sur AlsacrÃ©ations</a>
							</li>
						</ul>
					</div>
					<h3 class="tk-bello-pro h2-like m-reset pt1">Ã€ regarder ailleurs</h3>
					<div class="textwidget">
						<ul>
							<li>
								<a href="https://www.paris-web.fr/2018/conferences/la-donnee-graphique-avec-html-et-css.php">Paris Web 2018</a>
							</li>
						</ul>
					</div>
				</div>
			</aside>
		</div>
		<footer class="mw--site mod txtcenter center" role="contentinfo" itemscope itemtype="https://schema.org/Person">
			<ul class="ffeeeedd--contact ul-reset p-reset mt0 print-hidden">
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__mastodon" href="https://mamot.fr/@ffoodd" itemprop="url" title="GaÃ«l Poupard sur Mastodon">
						<span itemprop="name">Mastodon</span>
					</a>
				</li>
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__github" href="https://github.com/ffoodd" itemprop="url" title="GaÃ«l Poupard sur GitHub">
						<span itemprop="name">GitHub</span>
					</a>
				</li>
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__dribble" href="https://dribbble.com/ffoodd" itemprop="url" title="GaÃ«l Poupard sur Dribbble">
						<span itemprop="name">Dribbble</span>
					</a>
				</li>
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__linkedin" href="https://www.linkedin.com/pub/ga%C3%ABl-poupard/30/17b/401" itemprop="url" title="GaÃ«l Poupard sur LinkedIn">
						<span itemprop="name">LinkedIn</span>
					</a>
				</li>
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__behance" href="https://www.behance.net/ffoodd" itemprop="url" title="GaÃ«l Poupard sur Behance">
						<span itemprop="name">Behance</span>
					</a>
				</li>
				<li class="inbl pa1" itemscope itemprop="contactPoint">
					<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__rss" href="/feed/" itemprop="url" title="La vie en #ffoodd | Flux RSS">
						<span itemprop="name">RSS</span>
					</a>
				</li>
			</ul>

			<small>
				&copy; 2018 La vie en #ffoodd &mdash; Design et intÃ©gration par <span itemprop="name">GaÃ«l Poupard</span> &mdash; <a href="/mentions-legales/">Mentions lÃ©gales</a>
				<br />
				Sauf mention contraire, lâ€™ensemble du contenu est sous <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/">Licence <abbr lang="en" title="Creative Commons">CC</abbr> <abbr lang="en" title="Attribution">BY</abbr>-<abbr lang="en" title="Non Commercial">NC</abbr>-<abbr lang="en" title="Share Alike">SA</abbr></a>.
			</small>

			<meta itemprop="jobTitle" content="Webdesigner et intÃ©grateur web">
			<meta itemprop="worksFor" content="onepoint">
		</footer>
		<script src="/assets/script.min.js"></script>
	</body>
</html>
