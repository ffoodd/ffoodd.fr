<!doctype html>
<html lang="fr-FR">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Clip-path, pourquoi pas ? â€” La vie en #ffoodd</title>
		<meta name="description" content="Dâ€™ordinaire je ne suis pas un adepte de lâ€™expÃ©rimentation des nouvelles propriÃ©tÃ©s&amp;nbsp;: le pragmatisme liÃ© aux contraintes de production dans mon travail rend lâ€™effort relativement vain.">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
		<link rel="stylesheet" href="/assets/styles.min.css" media="all">
		<link rel="stylesheet" href="/assets/impression.min.css" media="print">
		<link rel="alternate" type="application/rss+xml" title="La vie en #ffoodd | Flux RSS" href="/feed/index.xml"></head>
	<body class="tk-museo-slab" itemscope itemtype="https://schema.org/WebPage">
		<a class="skip scroll pa1 inbl smaller print-hidden" href="#content">Aller au contenu</a>
		<div class="row">
			<nav class="col txtright pt8 w-33 pl0 pr0 print-hidden" id="nav" role="navigation" aria-label="Menu principal">
				<ul class="menu aside p-reset m-reset ul-reset">
					<li class="tk-bello-pro h1-like m-reset">
						<a href="/">ffoodd</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/plus/">Ã€ propos</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/journal/">Journal</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/travaux/">Parcours</a>
					</li>
				</ul>
			</nav>

			<main class="col w--site pl3 pb3 pr3" id="content" role="main" role="main" itemprop="mainContentOfPage">
				<div class="logo print-hidden">
					<img src="/assets/img/embossed-ffoodd.png" alt="" id="logo" width="144" height="144">
				</div>
				<header class="center pt1 mb1" role="banner">
					<h1 class="mb0 mt0 tk-bello-pro" itemprop="name">Clip-path, pourquoi pas ?</h1>
					
						<nav role="navigation" aria-labelledby="here" class="print-hidden small mt2 mb1">
	<span id="here">Vous Ãªtes ici&nbsp;: </span>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<a href="/" itemprop="url"><span itemprop="title">La vie en #ffoodd</span></a>
		<span> â€º&nbsp;</span>
	</div>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<span itemprop="title">Clip-path, pourquoi pas ?</span>
	</div>
</nav>

					
					
						<h2 class="h3-like description" itemprop="description">Dâ€™ordinaire je ne suis pas un adepte de lâ€™expÃ©rimentation des nouvelles propriÃ©tÃ©s&nbsp;: le pragmatisme liÃ© aux contraintes de production dans mon travail rend lâ€™effort relativement vain.</h2>
					
				</header>
				
	<article role="article" itemscope itemtype="https://schema.org/Article">
		<time class="screen-reader-text" datetime="2014-03-11T15:44:26" itemprop="datePublished">11 mars 2014</time><div itemprop="articleBody">
				<p>Mais lorsque <a href="https://twitter.com/KittyGiraudel" title="Sur Twitter">Kitty Giraudel</a> a lancÃ© son <a href="http://kittygiraudel.com/2014/02/19/the-magic-circle-a-css-brain-teaser/">CSS brain teaser</a>.<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<h2 id="les-sp%C3%A9cifications-actuelles" tabindex="-1">Les spÃ©cifications actuelles</h2>
<p>Ne connaissant que de trÃ¨s loin cette propriÃ©tÃ©, il a fallu me mettre Ã  jour. <code>clip-path</code>, Ã  lâ€™instar de <code>clip</code>, sert Ã  dÃ©limiter la zone dâ€™affichage dâ€™un contenu. Je mâ€™oriente vers les spÃ©cifications pour complÃ©ter cet embryon de cultureÂ â€” et lÃ , câ€™est le drameÂ :</p>
<ul>
<li><a href="http://www.w3.org/TR/css-masking-1/#the-clip-path" title="en Anglais">La spÃ©cification de la propriÃ©tÃ©</a> <code>clip-path</code> au sein du module <em>CSS masking</em>, encore Ã  lâ€™Ã©tat de brouillon;</li>
<li>Qui nous renvoie <a href="http://www.w3.org/TR/2013/WD-css-shapes-1-20130620/#basic-shapes-from-svg-syntax" title="en Anglais">aux formes basiques</a> en SVG;</li>
<li>Tout cela en se rÃ©fÃ©rant sans arrÃªt Ã  <a href="http://www.w3.org/TR/css-masking-1/#ClipPathElement" title="en Anglais">lâ€™Ã©lÃ©ment SVG <code>ClipPath</code></a>;</li>
<li>De fil en aiguille, citons Ã©galement le module <em>Masking</em> de la spÃ©cification SVG â€” et notamment <a href="http://www.w3.org/TR/SVG/masking.html#ClippingPaths" title="en Anglais">la section sur les <em>Clipping paths</em></a>.</li>
</ul>
<p>On peut dâ€™ores et dÃ©jÃ  noter une diffÃ©rence remarquable entre les Ã©tats de ces deux spÃ©cificationsÂ : lâ€™une est en brouillon, lâ€™autre en recommandation. La spÃ©cification SVG est extrÃªmement aboutie et claire, les ressources ne manquent pas.<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>En revanche le module CSS est obscur. Il existe un lien Ã©troit entre les deux spÃ©cifications, car le brouillon du module <em>CSS Masking</em> sâ€™appuie Ã©normÃ©ment sur la spÃ©cification SVGÂ â€” et quâ€™en SVG il existe lâ€™attribut <code>clip-path</code>. Ã‡a gÃ©nÃ¨re des incomprÃ©hensions qui ne vont pas faciliter la prise en main de cette propriÃ©tÃ©.</p>
<p>Pour Ã©claircir un peu tout Ã§a â€” et vous Ã©pargner la lecture des spÃ©cifications â€” vous devriez pouvoir Ã©crire ceci pour utiliser une forme basiqueÂ :</p>
<pre><code class="language-css">
.clip { 
  clip-path: circle( 50%, 50%, 5em );
}
</code></pre>
<p>Mais ceci devrait fonctionner Ã©galement â€” en appelant un Ã©lÃ©ment SVGÂ :</p>
<pre><code class="language-css">
.clip { 
  clip-path: url(#circle);
}
</code></pre>
<h2 id="les-origines" tabindex="-1">Les origines</h2>
<p>Il faut sonder un peu les origines de ce module CSS pour en comprendre lâ€™obscuritÃ©. Bien que dÃ©jÃ  en cours dâ€™Ã©laboration dans le cadre technique du SVG, la possibilitÃ© de masquer des Ã©lÃ©ments en CSS existait depuis CSS 2.1 grÃ¢ce Ã  la propriÃ©tÃ© <code>clip</code>, dÃ©sormais <a href="http://www.w3.org/TR/css-masking-1/#clip-property" title="en Anglais">dÃ©prÃ©ciÃ©e</a>.<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
<p>Cette propriÃ©tÃ© nâ€™a jamais rÃ©ellement trouvÃ© son public, car elle a deux inconvÃ©nients majeursÂ :</p>
<ol>
<li>Lâ€™Ã©lÃ©ment masquÃ© doit Ãªtre en position absolue;</li>
<li>Le masque ne peut Ãªtre que rectangulaire, et son placement est contre-intuitif.</li>
</ol>
<p>EmbÃªtant. Constatant les progrÃ¨s possibles de cette fonctionnalitÃ© en CSS, câ€™est <a href="https://www.webkit.org/blog/181/css-masks/" title="en Anglais">le navigateur Safari qui a ouvert les hostilitÃ©s en 2008</a> avec les propriÃ©tÃ©s <code>-webkit-mask-â€¦</code> supportÃ©es <a href="https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-SW17" title="en Anglais">dÃ¨s Safari 4</a>. Cette technique a rencontrÃ© un franc succÃ¨s car elle permet dâ€™utiliser une image comme masque. Malheureusement cette propriÃ©tÃ© nâ€™Ã©tait supportÃ©e que par le moteur de rendu Webkit.<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p>
<p>LÃ , jâ€™ai vu poindre le problÃ¨meÂ : la spÃ©cification CSS en cours dâ€™Ã©laboration mÃ©lange joyeusement les clips issus de SVG et la proposition de Safari.<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></p>
<h2 id="des-ressources-dissonantes" tabindex="-1">Des ressources dissonantes</h2>
<p>Il est fort peu probable que personne avant moi ne sâ€™y soit intÃ©ressÃ©. Et en effet, quatre ressources principales sont indispensables pour apprÃ©hender <code>clip-path</code>Â :</p>
<ul>
<li><a href="http://www.html5rocks.com/en/tutorials/masking/adobe/" title="en Anglais">CSS Masking</a> sur HTML5Rocks;</li>
<li>Lâ€™article dÃ©diÃ© sur <a href="http://docs.webplatform.org/wiki/css/properties/clip-path" title="en Anglais">Web Platform Docs</a>;</li>
<li>Un tutoriel avancÃ© sur <a href="http://thenittygritty.co/css-masking" title="en Anglais">The Nitty Gritty</a>;</li>
<li>Lâ€™article de lâ€™Avent par Vincent De Oliveira sur <a href="http://www.24joursdeweb.fr/2013/les-masques-css/">24 jours de web</a>;</li>
</ul>
<p>Comme vous vous en apercevrez en les lisant, le contenu est disparate. La compatibilitÃ© navigateur est abordÃ©e diffÃ©remment.<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup></p>
<p>Ã€ lâ€™instar de la spÃ©cification qui intÃ¨gre les clips <strong>et</strong> les masques, ces ressources prÃ©sentent les deux techniques. Dommage car deux articles distincts auraient Ã©tÃ© bien plus clairs !</p>
<h2 id="un-bilan-mitig%C3%A9" tabindex="-1">Un bilan mitigÃ©</h2>
<p>AprÃ¨s avoir compulsÃ© maladivement les spÃ©cifications, articles, tutoriaux et autres exemples pendant quelques jours, jâ€™ai abouti Ã  un exemple ressemblant Ã  ceciÂ :</p>
<pre><code class="language-css">
/**
 * 1. DÃ©finition dâ€™une forme rectangulaire de repli pour les navigateurs ne supportant pas clip-path;
 * 2. CrÃ©ation dâ€™une forme SVG basique, circulaire;
 * 3. Appel dâ€™un fichier SVG contenant un Ã©lÃ©ment clipPath. 
 */
.clip { 
  clip: rect( 7em, 30em, 17em, 20em ); /* 1 */
  -webkit-clip-path: circle( 50%, 50%, 5em ); /* 2 */
  clip-path: url(#circle); /* 3 */
}
</code></pre>
<p>Ã‰videmment, cela implique un balisage prÃ©cis cÃ´tÃ© HTMLÂ :</p>
<pre><code class="language-markup">
&lt;p class=&quot;clip&quot;&gt;
  â™¬ Tout, tout, tout : vous saurez tout sur le clip-path â™¬
&lt;/p&gt;
&lt;svg width=&quot;200&quot; height=&quot;200&quot;&gt;
  &lt;defs&gt;
  &lt;clipPath id=&quot;circle&quot;&gt;
  &lt;circle cx=&quot;50%&quot; cy=&quot;50%&quot; r=&quot;80&quot; /&gt;
  &lt;/clipPath&gt;  
  &lt;/defs&gt;
&lt;/svg&gt;
</code></pre>
<p>Ainsi je tente de vous livrer un Ã©tat des lieux aussi complet que possible.<sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup></p>
<ul>
<li><strong>Chrome 23, Safari 6.1 et OpÃ©ra 15</strong> supportent <code>clip-path</code> sous toutes ses formes â€” incluant la dÃ©finition de formes SVG basiques dans le CSS;</li>
<li><strong>Firefox 4</strong> supporte <code>clip-path</code> si on rÃ©fÃ©rence un Ã©lÃ©ment SVG <code>clipPath</code>Â â€” ce qui implique dâ€™ajouter un fichier SVGÂ â€” en revanche vous serez obligÃ©s de dÃ©finir des positions en unitÃ©s absolues comme le <code>px</code> pour positionner votre clip si vous souhaitez Ã©viter les bugs, et câ€™est bien dommage;</li>
<li><strong>OpÃ©ra 7, Chrome 14, IE8 Ã  11 et Safari 1</strong> se replient sur <code>clip</code>;</li>
<li><strong>Une note sur IE9 Ã  11Â :</strong> ces navigateurs supportent <code>clip-path</code> si on rÃ©fÃ©rence un Ã©lÃ©ment SVG <code>clipPath</code>, Ã  condition dâ€™appliquer le clip sur un Ã©lÃ©ment SVG. Il est envisageable dâ€™intÃ©grer la zone Ã  clipper dans un Ã©lÃ©ment <code>ForeignObject</code> au sein dâ€™un SVG, mais Ã§a devient trop tordu Ã  mon goÃ»t;</li>
<li><strong>Un mot sur IE4 Ã  7Â :</strong> surpris vous Ãªtes ? Ne le soyez pas, clip est reconnu sur IE4 Ã  7 (et mÃªme Netscape 4). Le hic, ce sont les pseudo-Ã©lÃ©ments que jâ€™emploie dans mon exemple; ainsi en ajoutant un Ã©lÃ©ment dÃ©diÃ© dans le DOM, vous devriez pouvoir supporter IE4 facilement ğŸ˜€ .</li>
</ul>
<h2 id="une-solution-correcte" tabindex="-1">Une solution correcte</h2>
<p>MalgrÃ© le support disparate et le funambulisme nÃ©cessaire pour aboutir Ã  un rÃ©sultat viable, jâ€™ai trouvÃ© <code>clip-path</code> extrÃªmement intÃ©ressant â€” et notamment grÃ¢ce Ã  la dÃ©gradation possible Ã  lâ€™aide de <code>clip</code> sur de trÃ¨s vieux navigateurs et de faÃ§on simplissime.</p>
<p>Ce repli implique de perdre les formes personnalisÃ©es au profit dâ€™un rectangle Â«Â simpleÂ Â», ce qui fut considÃ©rÃ© comme acceptable lors de lâ€™avÃ¨nement de <code>border-radius</code> par exemple. Et je suppose que dans la plupart des cas, cette solution reste acceptable.</p>
<p>Vous trouverez donc ma solution au casse-tÃªte proposÃ© par Kitty <a href="http://codepen.io/ffoodd/pen/Eolkb" title="en Anglais">sur CodePen</a>, dÃ©taillÃ©e, commentÃ©e, agrÃ©mentÃ©e de diverses prÃ©cisions â€” en Anglais.</p>
<p>Tout retour sera le bienvenu ğŸ™‚ .</p>
<h3 id="mise-%C3%A0-jour" tabindex="-1">Mise Ã  jour</h3>
<p>Moins dâ€™une semaine avant la publication de mon article, le brouillon du W3C concernant la notation des formes basiques a Ã©voluÃ©. Je cite <a href="https://twitter.com/iamvdo">Vincent De Oliveira</a>, qui a partagÃ© lâ€™information avec moiÂ :</p>
<blockquote>
<p>Par contre, la notation des basic-shapes ont (encore) changÃ©es rÃ©cemment! ğŸ˜› <a href="http://dev.w3.org/csswg/css-shapes/#basic-shape-functions" title="en Anglais">dev.w3.org</a></p>
</blockquote>
<p>Ã” joie. Merci Ã  Vincent en tout cas !</p>
<ol class="footnotes-list small mt2 pt2 pb2">
<li id="fn1" class="footnote-item"><p>Papa, Maman : jâ€™aime les casses-tÃªtes. <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Un petit Â« cocorico Â» sâ€™impose pour fÃ©liciter JÃ©rÃ©mie Patonnier, qui a grandement contribuÃ© Ã  la documentation sur le Mozilla Developper Network notamment. <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn3" class="footnote-item"><p>La propriÃ©tÃ© est dÃ©prÃ©ciÃ©e mais trÃ¨s bien supportÃ©e, et le W3C indique que les agents utilisateurs (navigateurs web) doivent la supporter malgrÃ© sa dÃ©prÃ©cation. <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Je ne compte pas traiter du marronnier de Â« la guerre des navigateurs Â» ni du syndrome Â« Webkit only Â». <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn5" class="footnote-item"><p>FabriquÃ© par AppleÂ® en Californie. <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn6" class="footnote-item"><p>La palme revient Ã  HTML5Rocks qui dÃ©taille Chrome et Firefox, et oublie les autres. <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn7" class="footnote-item"><p>Je tiens Ã  prÃ©ciser que je nâ€™ai aucune expertise en la matiÃ¨re : ce ne sont la que les conclusions trouvÃ©es par un intÃ©grateur lambda. <a href="#fnref7" class="footnote-backref">â†©ï¸</a></p>
</li>


			</div><footer class="small mt2">
			<p class="pl2 mt0 pt1">
				Article rÃ©digÃ© par <strong itemprop="author"><span class="fn">GaÃ«l Poupard</span></strong>.
				ModifiÃ© le <time class="updated" datetime="2021-03-05T17:09:34" itemprop="dateModified">5 mars 2021</time>.
			</p>
		</footer>
	</article>

				<div id="comments" class="comments-area pl2 pt2 mt2 print-hidden">
			<h2 class="comments-title" itemprop="interactionCount" content="UserComments:1">
				1 commentaire sur
				<span class="tk-bello-pro h2-like" itemprop="discusses">Â«&nbsp;Clip-path, pourquoi pas ?&nbsp;Â»</span>
				<a href="#sommaire" class="scroll small" title="Retour au sommaire">â¤´</a>
			</h2>
			<ol class="commentlist ul-reset pl0" itemprop="comment"><li id="5385" class="mb2" itemscope itemtype="https://schema.org/UserComments">
						<article>
							<header><img alt="" loading="lazy"
											 src="https://secure.gravatar.com/avatar/63b84c41c052160d9254fcea2001c3d5?s=44&d=mm&r=g"
											 srcset="https://secure.gravatar.com/avatar/63b84c41c052160d9254fcea2001c3d5?s=88&d=mm&r=g 2x"
											 class="avatar avatar-44 photo"
											 height="44" width="44"><em itemprop="creator" class="pl1"><a href="http://thomas-ruffier.com" class="url" rel="ugc external nofollow">Thomas Ruffier</a></em>
								
								<time datetime="[object Object]" itemprop="commentTime">22 mai 2015 Ã  15 h 55 min</time>
								<a href="#5385">
									<span class="screen-reader-text">Ancre vers ce commentaire</span>
									<span aria-hidden="true">âš“</span>
								</a>
							</header>
						</article>
						<div itemprop="CommentText"><p>Merci pour lâ€™article. Quoique pas tout jeune, il a le mÃ©rite dâ€™Ãªtre assez clair, contrairement Ã  ce que jâ€™ai prÃ©cÃ©demment trouvÃ© sur le net.</p>
</div>
					</li></ol>
		</div>
				
			</main>

			<aside class="col pt8 pl0 pr0 print-hidden" role="complementary" id="sommaire">
		<div class="aside pl2 pt2">
			<h3 class="tk-bello-pro h2-like m-reset">Sommaire</h3>
			<div class="textwidget">
				<ol><li><a href="#les-sp%C3%A9cifications-actuelles">Les spÃ©cifications actuelles</a></li><li><a href="#les-origines">Les origines</a></li><li><a href="#des-ressources-dissonantes">Des ressources dissonantes</a></li><li><a href="#un-bilan-mitig%C3%A9">Un bilan mitigÃ©</a></li><li><a href="#une-solution-correcte">Une solution correcte</a></li><li><a href="#comments">Commentaires</a></li></ol>
			</div>
		</div>
	</aside>

		</div>
		<footer class="mw--site mod txtcenter center" role="contentinfo" itemscope itemtype="https://schema.org/Person">
			<ul class="ffeeeedd--contact ul-reset p-reset mt0 print-hidden"><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__mastodon" href="https://mamot.fr/@ffoodd" itemprop="url" title="GaÃ«l Poupard sur Mastodon">
							<span itemprop="name">Mastodon</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__github" href="https://github.com/ffoodd" itemprop="url" title="GaÃ«l Poupard sur GitHub">
							<span itemprop="name">GitHub</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__dribbble" href="https://dribbble.com/ffoodd" itemprop="url" title="GaÃ«l Poupard sur Dribbble">
							<span itemprop="name">Dribbble</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__linkedin" href="https://www.linkedin.com/pub/ga%C3%ABl-poupard/30/17b/401" itemprop="url" title="GaÃ«l Poupard sur LinkedIn">
							<span itemprop="name">LinkedIn</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__rss" href="/feed/index.xml" itemprop="url" title="La vie en #ffoodd | Flux RSS">
							<span itemprop="name">RSS</span>
						</a>
					</li></ul>

			<p class="small">
				&copy; 2024 La vie en #ffoodd &mdash; Design et intÃ©gration par <span itemprop="name">GaÃ«l Poupard</span> &mdash; <a href="/mentions-legales/">Mentions lÃ©gales</a>
				<br />
				Sauf mention contraire, lâ€™ensemble du contenu est sous <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/">Licence <abbr lang="en" title="Creative Commons">CC</abbr> <abbr lang="en" title="Attribution">BY</abbr>-<abbr lang="en" title="Non Commercial">NC</abbr>-<abbr lang="en" title="Share Alike">SA</abbr></a>.
			</p>

			<meta itemprop="jobTitle" content="Webdesigner et intÃ©grateur web">
			<meta itemprop="worksFor" content="onepoint">
		</footer>
		<script src="/assets/script.min.js"></script>
	</body>
</html>
