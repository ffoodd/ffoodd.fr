<!doctype html>
<html lang="fr-FR">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Le soulignement factice — La vie en #ffoodd</title>
		<meta name="description" content="Le soulignement standard sur le web est si laid que la plupart des sites le suppriment purement et simplement. Il est pourtant indispensable pour identifier ce qui différencie le texte de l&amp;#700;imprimé&amp;nbsp;: les hyperliens.">
		<meta name="generator" content="Eleventy v2.0.1">
		<link rel="icon" href="/favicon.ico" sizes="32x32">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
		<link rel="author" href="/humans.txt" type="text/plain">
		<link rel="stylesheet" href="/assets/styles.min.css" media="all">
		<link rel="stylesheet" href="/assets/impression.min.css" media="print">
		<link rel="alternate" type="application/rss+xml" title="La vie en #ffoodd | Flux RSS" href="/feed/index.xml"></head>
	<body class="tk-museo-slab" itemscope itemtype="https://schema.org/WebPage">
		
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#content">Aller au contenu</a>
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#sommaire">Aller au sommaire</a>

		<div class="row">
			<nav class="col txtright pt8 w-33 pl0 pr0 print-hidden" id="nav" role="navigation" aria-label="Menu principal">
				<ul class="menu aside p-reset m-reset ul-reset">
					<li class="tk-bello-pro h1-like m-reset">
						<a href="/">ffoodd</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/plus/">À propos</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/journal/">Journal</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/travaux/">Parcours</a>
					</li>
				</ul>
			</nav>

			<main class="col w--site pl3 pb3 pr3" id="content" role="main" role="main" itemprop="mainContentOfPage">
				<div class="logo print-hidden">
					<img src="/assets/img/embossed-ffoodd.png" alt="" id="logo" width="144" height="144">
				</div>
				<header class="center pt1 mb1" role="banner">
					<h1 class="mb0 mt0 tk-bello-pro" itemprop="name">Le soulignement factice</h1>
					
						<nav role="navigation" aria-labelledby="here" class="print-hidden small mt2 mb1">
	<span id="here">Vous êtes ici&nbsp;: </span>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<a href="/" itemprop="url"><span itemprop="title">La vie en #ffoodd</span></a>
		<span> ›&nbsp;</span>
	</div>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<span itemprop="title">Le soulignement factice</span>
	</div>
</nav>

					
					
						<h2 class="h3-like description" itemprop="description">Le soulignement standard sur le web est si laid que la plupart des sites le suppriment purement et simplement. Il est pourtant indispensable pour identifier ce qui différencie le texte de l&#700;imprimé&nbsp;: les hyperliens.</h2>
					
				</header>
				
	<article role="article" itemscope itemtype="https://schema.org/Article">
		<time class="screen-reader-text" datetime="2015-11-20T15:16:37" itemprop="datePublished">20 novembre 2015</time>
		
			<div itemprop="articleBody">
				<p>Je vous enjoins à lire la « <a href="https://letrainde13h37.fr/43/signaletique-hyperliens/">Signalétique des hyperliens</a> » sur le train de 13 h 37, par <a href="https://twitter.com/tetue">Romy Duhem-Verdière</a>. On y apprend notamment que — typographiquement parlant — le souligné nʼest dʼaucune utilité, sauf éventuellement à palier lʼabsence dʼitalique (ce qui est somme toute assez rare). En revanche sur le web, cʼest <strong>le meilleur moyen de signaler un lien</strong>.</p>
<h2 id="graphiquement-grossier" tabindex="-1">Graphiquement grossier</h2>
<p>Le souligné ordinaire est effectivement grossier : cʼest un reliquat des toutes premières typographies affichées sur un écran — que je nʼai pas eu la chance de croiser. Vous pouvez le constater avec cet exemple de souligné ordinaire.<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<p>Sur le plan visuel, le souligné croise les jambages inférieures, ce qui crée un attroupement inopportun de pixels quʼon pourrait qualifier de « petits pâtés ».<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>Quelques tentatives existaient déjà il y a fort longtemps, comme en témoigne <a href="https://alistapart.com/article/customunderlines">lʼarticle de Susan Robertson sur A List Apart</a> qui utilisait <code>background-image</code> pour mettre un une image répétée en guise de soulignement. Ça peut sembler étrange — notamment quand vous aurez vu les exemples animés — mais en 2004, cʼétait parfaitement fabuleux.</p>
<h2 id="le-truchement-css" tabindex="-1">Le truchement CSS</h2>
<p>On ne peut malheureusement pas <strong>encore</strong> intervenir sur la propriété <code>text-decoration: underline;</code> de façon satisfaisante. Ce sera en revanche le cas un jour avec <code>text-decoration-skip: ink;</code> qui est <a href="https://drafts.csswg.org/css-text-decor-3/#text-decoration-skip-property">à lʼétat de brouillon au W3C (en anglais)</a>. Il nʼexiste actuellement aucun support de cette propriété, cependant <a href="https://css-tricks.com/almanac/properties/t/text-decoration-skip/">celle-ci est émulée sur les engins Apple omme le mentionne Chris Coyier sur CSS-Tricks (en anglais)</a>. En attendant, vous allez voir que Susan Robertson était déjà sur la bonne piste il y a 10 ans.</p>
<p>Lʼastuce — <em>a priori</em> trouvée par Marcin Wichary pour Medium et expliquée dans « <a href="https://medium.com/designing-medium/crafting-link-underlines-on-medium-7c03a9274f9#.hhqigq2dq">Crafting link underlines on Medium</a> » — consiste à supprimer le <code>text-decoration</code> et le trucher à lʼaide dʼun dégradé pour la ligne, et dʼune ombre portée sur le texte pour « nettoyer les jambages ». Comme Susan Robertson, nous allons nous servir de la propriété <code>background-image</code>, mais au lieu de charger un gif nous utiliserons la fonction <code>linear-gradient();</code>. Si vous nʼêtes pas encore familier avec les dégradés, prenez le temps de lire <a href="https://developer.mozilla.org/fr/docs/Web/CSS/linear-gradient">la page dédiée aux dégradés en CSS sur MDN</a>.</p>
<h2 id="du-code-du-code" tabindex="-1">Du code, du code !</h2>
<p>Jʼai croisé plusieurs implémentations de cette solution, toutes très intéressantes mais aucune ne fonctionnant « telle quelle ». En voici deux notables :</p>
<ul>
<li><a href="https://github.com/edwardtufte/tufte-css/blob/master/tufte.css#L237">la méthode utilisée par tufte-CSS (sur Github)</a> ;</li>
<li><a href="https://eager.io/blog/smarter-link-underlines/">la réflexion menée par Adam Schwartz pour Eager (en anglais)</a> avec une illustration interactive particulièrement réussie.</li>
</ul>
<p>Ça donne suffisamment de matière pour avancer, donc jʼai trituré tout ça jusquʼà obtenir un résultat satisfaisant mes besoins. Vous en trouverez <a href="https://codepen.io/ffoodd/pen/jbRMqJ/">un aperçu rigolo sur CodePen</a>. Pour les feignasses, voici le CSS incriminé :</p>
<pre class="language-css" tabindex="0"><code class="language-css">
<span class="token selector">.underline</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.no-highcontrast.cssgradients .underline</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white 0 88% / 100% 0.1rem no-repeat content-box content-box<span class="token punctuation">;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> 
  <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .67<span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .67<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
  currentColor<span class="token punctuation">,</span> 
  currentColor
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 
  .05rem 0 0 white<span class="token punctuation">,</span> 
 -.05rem 0 0 white<span class="token punctuation">,</span> 
  .1rem 0 0 white<span class="token punctuation">,</span> 
 -.1rem 0 0 white<span class="token punctuation">,</span> 
  .2rem 0 0 white<span class="token punctuation">,</span> 
 -.2rem 0 0 white<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Pour la sélection */</span>
<span class="token comment">/* https://developer.mozilla.org/en-US/docs/Web/CSS/::selection */</span>
<span class="token selector">.no-highcontrast.cssgradients .underline::-moz-selection</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.no-highcontrast.cssgradients .underline::selection</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-ms-high-contrast</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.underline</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Vous noterez les occurrences multiples de la couleur blanche — tant sous la forme du mot-clé <code>white</code> que de sa notation <code>rgba()</code>. Simplement parce que mon exemple à un arrière-plan blanc. Évidemment si votre texte repose sur un fond coloré, ces valeurs doivent <strong>respecter la couleur dʼarrière-plan</strong>.<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
<p>Petite astuce à prendre en considération, le second paramètre du <em>mixin</em> concerne la position du soulignement <strong>par rapport à la hauteur de lʼélément</strong>. Je ne suis pas parvenu à rendre ça dispensable, le changement de corps et de caractères entraînant une trop grande variation sur la hauteur de ligne. Dans mes différents cas, la position varie entre 88% et 96%.</p>
<h2 id="cest-pas-un-peu-verbeux" tabindex="-1">Cʼest pas un peu verbeux ?</h2>
<p><strong>Si</strong>. Pour plusieurs raisons que je tente de vous expliquer :</p>
<ul>
<li>les propriétés dʼarrière-plan sont très riches, avec dans la notation raccourcie :
<ul>
<li><code>background-color</code> </li>
<li><code>background-position</code> </li>
<li><code>background-size</code> </li>
<li><code>background-repeat</code> </li>
<li><code>background-origin</code> </li>
<li><code>background-clip</code>.</li>
</ul>
</li>
<li>deux dégradés, dont le premier (couleur dʼarrière-plan en semi-transparent) sert à alléger visuellement le second — qui utilise <code>currentColor</code> pour conserver la couleur du texte sur lequel il est appliqué ;</li>
<li>lʼombre sur le texte, dont le seul et unique objectif est dʼéviter la collision entre les jambages inférieurs et le soulignement ;</li>
<li>et deux propriétés auxquelles vous ne vous attendiez peut-être pas : <code>display: inline;</code> et <code>width: auto;</code> dont lʼintérêt est de sʼassurer que notre charmant souligné suive bien le texte <strong>et uniquement le texte</strong>.<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li>
</ul>
<ul>
<li>les classes de tests du support des dégradés CSS et de lʼactivation du mode de contrastes élevés.</li>
</ul>
<p>Ça fait beaucoup de code, mais tout est indispensable.</p>
<h2 id="et-laccessibilite" tabindex="-1">Et lʼaccessibilité ?</h2>
<p>Pour commencer, il est nécessaire de mettre en place deux scripts fonctionnant sur le même principe :</p>
<ol>
<li>un test de fonctionnalité tel que <em>Modernizr</em> — <a href="https://modernizr.com/download?setclasses&amp;q=gradient">dont vous pouvez générer une version uniquement pour les dégradés CSS</a> — afin dʼappliquer ce CSS de soulignement uniquement si le navigateur supporte les dégradés ;</li>
<li>un second test pour <strong>détecter lʼactivation du mode de contrastes élevés</strong> — qui supprime les arrières-plans et laisserait donc nos éléments soulignés complètement nus et sans soulignement — mais qui détecte également si <strong>lʼutilisateur a personnalisé la couleur des liens</strong> : vous trouverez la source sur <a href="https://jsfiddle.net/karlgroves/XR8Su/6/">un JSFiddle de Karl Groves</a> du Paciello Group (quʼil a lui-même récupéré de Hans Hillen) que jʼai modifié afin de tester un lien plutôt quʼune division.</li>
</ol>
<p>Les navigateurs ne supportant pas les dégradés ou étant utilisé conjointement au mode de contrastes élevés resteront avec leur bon vieux <code>text-decoration: underline;</code>.</p>
<p>Un autre cas pointu est à signaler : <strong>la sélection du texte en question</strong>. Il est impossible à ma connaissance de simplement supprimer les styles ajoutés (<code>unset</code> sert <em>a priori</em> à ça, mais son fonctionnement et son support ne sont pas convaincants). Il faut donc personnaliser la sélection, ce que je fais en inversant couleur dʼarrière-plan et couleur de texte et en supprimant lʼombre sous le texte <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::selection">à lʼaide du pseudo-élément dédié (en anglais)</a>.</p>
<p>Merci à <a href="https://twitter.com/johan_ramon">Johan Ramon</a> pour mʼavoir rappelé à lʼordre avec ces détails croustillants !</p>
<h2 id="modifications" tabindex="-1">Modifications</h2>
<h3 id="27-octobre-2016" tabindex="-1">27 octobre 2016</h3>
<p>Une petite amélioration est apportée, de la manière suivante :</p>
<ul>
<li>si le navigateur gère <strong>les requêtes de fonctionnalités</strong> <em>via</em> <code>@supports</code> et qu’il supporte <code>text-decoration-skip: ink;</code>, on applique cette propriété ;</li>
<li>si le navigateur gère les requêtes de fonctionnalité mais pas la propriété, on applique le <code>background-image</code> lorsque le mode de contrastes élevés n’est pas activé.</li>
</ul>
<p>Si ces ajouts vous intéressent, voici un peu de lecture supplémentaire :</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/CSS/@supports"><code>@supports</code> sur MDN</a> ;</li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/CSS/text-decoration-skip"><code>text-decoration-skip</code>, également sur MDN</a>.</li>
</ul>
<p>Tout peut se résumer comme suit :</p>
<pre class="language-css" tabindex="0"><code class="language-css">
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">text-decoration-skip</span><span class="token punctuation">:</span> ink<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-skip</span><span class="token punctuation">:</span> ink<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Le <a href="https://codepen.io/ffoodd/pen/jbRMqJ/">CodePen</a> est à jour pour que vous jetiez un œil, et je l’ai <a href="https://gist.github.com/ffoodd/d4bee79e6af99c05f0a32542d66d5969">exporté dans un Gist</a> également.</p>
<p>Cet ajout a quelques effets notables :</p>
<ul>
<li>certains navigateurs sont désormais exclus par le manque de support de <code>@supports</code>, tels que le <em>Stock browser Adnroid</em>, <em>Blackberry Browser</em> ou <em>IE Mobile</em>. Ça me semble une bonne chose puisque ces styles sont relativement coûteux, ces vieux navigateurs mobiles seront épargnés ;</li>
<li>seul Safari 9 supporte <code>text-decoration-skip: ink;</code>, et je ne suis pas certain que le rendu soit le même. Ce serait à tester et ajuster au cas par cas.</li>
</ul>
<p>Mais nous voilà avec un pied dans le futur !</p>
<h3 id="20-janvier-2017" tabindex="-1">20 janvier 2017</h3>
<p><a href="https://twitter.com/7studio/status/822116634542374914">Xavier Zalawa rencontre un bug de Blink gênant</a> impliquant <code>currentColor</code> dans un <code>linear-gradient</code> en cas de changement d’état. C’est le cas dans ce soulignement factice : <code>currentColor</code> utilisé dans le background n’est pas mis à jour lors du survol ou de la prise de focus, sans être répété— ce qui ruine littéralement l’intérêt de currentColor…</p>
<p><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=595467">Le bug est ouvert chez Chromium</a>.</p>
<p><a href="https://twitter.com/iamvdo/status/822130026384592898">Vincent De Oliveira a cependant trouvé une astuce pour le faire fonctionner sans devoir répéter la propriété</a> et ça, c’est cool.</p>
<p>En repassant donc sur le <a href="https://codepen.io/ffoodd/pen/jbRMqJ">CodePen</a> pour le mettre à jour, je me suis également rendu compte que la <em>media query</em> <code>-ms-high-contrast: active</code> était inutile ; je l’ai donc supprimée. Cette requête n’est comprise que par IE 11 et inférieur — cependant comme elle était imbriquée dans une règle @supports ces derniers ne pouvaient pas la lire. Hop, un peu de code en moins !</p>
<ol class="footnotes-list small mt2 pt2 pb2">
<li id="fn1" class="footnote-item"><p>Percevez-vous comme ce soulignement est affordant ? On a envie de cliquer dessus, pas vrai ? <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Terme technique issu dʼune longue histoire de la calligraphie à la plume (ou de lʼapprentissage de lʼécriture avec un stylo plume pour les plus jeunes dʼentre vous). <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Vous avez probablement déjà compris que si votre texte repose sur une image ou un dégradé, il nʼy aura probablement pas de salut pour votre soulignement. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Sans cette astuce, certains éléments auraient un soulignement sur toute la largeur, même si le texte ne la remplit pas — et dʼautres éléments auraient un soulignement uniquement sur la dernière ligne, si dʼaventures ils fussent sur plusieurs lignes. <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>


			</div>
		
		<footer class="small mt2">
			<p class="pl2 mt0 pt1">
				Article rédigé par <strong itemprop="author"><span class="fn">Gaël Poupard</span></strong>.
				Modifié le <time class="updated" datetime="2017-01-20T11:20:39" itemprop="dateModified">20 janvier 2017</time>.
			</p>
		</footer>
	</article>

				<div id="comments" class="comments-area pl2 pt2 mt2 print-hidden"><h2 class="comments-title" itemprop="interactionCount" content="UserComments:5">
	5 commentaires sur
	<span class="tk-bello-pro h2-like" itemprop="discusses">«&nbsp;Le soulignement factice&nbsp;»</span>
	<a href="#sommaire" class="scroll small" title="Retour au sommaire">⤴</a>
</h2>
<ol class="commentlist ul-reset pl0" itemprop="comment"><li id="8146" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/e884b2ba7d66cfea7cb2185922c7a183?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/e884b2ba7d66cfea7cb2185922c7a183?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1"><a href="https://borisschapira.com" class="url" rel="ugc external nofollow">Boris</a></em>
					
					<time datetime="[object Object]" itemprop="commentTime">24 novembre 2015 à 12 h 05 min</time>
					<a href="#8146">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">⚓</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Très sympa ! J’aurais cependant légèrement modifié la méthode HCTest pour qu’elle renvoie une fonction renvoyant toujours true ou false. Ainsi, si je l’appelle une seconde fois ailleurs pour un autre besoin, pas besoin d’exécuter à nouveau l’ensemble du test 😉</p>
</div>
		</li><li id="8147" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">Gaël Poupard <small>(Rédacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">24 novembre 2015 à 12 h 09 min</time>
					<a href="#8147">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">⚓</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Héhé c’est en cours, nous créons un test Modernizr à plugger tout bêtement 😎<br>
Ça devrait arriver sur GitHub dans pas longtemps ! J’avoue avoir un peu bricolé pour l’exemple 😇</p>
</div>
		</li><li id="8227" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/6381f65810606a24c5f7086d072342f2?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/6381f65810606a24c5f7086d072342f2?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1"><a href="http://marieguillaumet.com/" class="url" rel="ugc external nofollow">Marie Guillaumet</a></em>
					
					<time datetime="[object Object]" itemprop="commentTime">3 décembre 2015 à 17 h 27 min</time>
					<a href="#8227">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">⚓</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Hello ! J’utilise ta méthode depuis quelques semaines sur un projet perso (qui n’est pas encore en ligne). Cela fonctionne globalement bien, mais je note quelques trucs :</p>
<ul>
<li>Pour le moment, j’appelle le test JS qui détecte le mode « contraste élevé » un peu tard (le script est situé en bas du DOM), ce qui fait qu’on voit le souligné des lignes un instant avant qu’il soit remplacé par les jolis soulignés personnalisés. J’ai pas trop envie de remonter mon JS dans le head ; aussi, aurais-tu une suggestion pour améliorer ça ?</li>
<li>Je trouve dommage que les liens concernés par ce joli souligné doivent forcément être en display: inline 🙁 Si on pouvait utiliser du inline-block, ça serait vraiment Noël ! Mais je comprends bien la contrainte.</li>
<li>Le fait que les liens concernés aient une couleur d’arrière-plan est un peu gênant quand ils s’affichent par-dessus une image d’arrière-plan, genre texture ou autre. 🙁 Cela ne peut donc fonctionner parfaitement que sur des arrières-plans unis.</li>
<li>J’ai noté aussi que selon les navigateurs, le souligné peut changer en épaisseur, avec le même font-size et les mêmes paramètres. Sans doute encore quelques tests à faire de mon côté pour trouver le bon paramétrage du dégradé.</li>
</ul>
<p>Mais bon, l’effet permis par le text-shadow sur les descendantes est vraiment appréciable. Je pense qu’on se rapproche de la vérité 🙂 Encore merci pour ce partage.</p>
</div>
		</li><li id="8234" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">Gaël Poupard <small>(Rédacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">4 décembre 2015 à 08 h 50 min</time>
					<a href="#8234">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">⚓</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Coucou Marie, merci pour ce commentaire 😄</p>
<p>Effectivement rien nʼest parfait, sinon cet effet serait ultra-répandu ! Jʼessaie de répondre point par point :</p>
<ul>
<li>Le test JS a besoin de vérifier la valeur calculée par le navigateur, cʼest donc intrinsèquement lent puisquʼil nous faut le DOM prêt, ajouter et styler un élément puis le supprimer. En terme de performance, ça nʼest clairement pas terrible. En revanche je nʼai jamais noté ce délai, malgré des pages parfois très lourdes et blindées de scripts… As-tu essayé avec le test injecté <em>via</em> Modernizr ? La seule solution que je vois — autre que lʼexécuter dans le <code>&lt;head&gt;</code> — serait de renverser lʼeffet : lʼappliquer par défaut et ne remettre <code>text-decoration</code> que si le test est positif. Le seul effet de bord que je devine serait que les soulignements pourraient apparaître avec un léger décalage en mode de contrastes élevés. Pourquoi pas ? Mon premier contre-argument est que ça me semble aller à lʼencontre de lʼamélioration progressive, mais je suppose que ça se discute.</li>
<li>Le display, je ne perds pas espoir ! Je pense malheureusement quʼil sʼagira dʼun second <em>mixin</em>, mais je continue à jouer avec. Jʼavais bon espoir en fouillant du côté des <code>repeating-linear-gradient</code> mais cʼest beaucoup plus fin à gérer.</li>
<li>En réalité la couleur dʼarrière-plan nʼest pas impérative — mais comme lʼombre portée a nécessairement une couleur, mettre un arrière-plan transparent serait probablement beaucoup plus moche. Selon ton arrière-plan, ça peut se tenter 😉 On peut envisager de choisir une ombre semi-transparente, mais lʼeffet sur les descendantes sʼen ressentira forcément.</li>
<li>Concernant lʼépaisseur je lʼavais noté quand je travaillais en <code>em</code>, et le passage en <code>rem</code> a grandement amélioré les choses. Et je tʼavoue ne pas y avoir accordé plus dʼimportance que ça, chercher à obtenir la même épaisseur sur tous les navigateurs me semble une perte de temps. Du moment que le rendu soit agréable à lʼœil chez tout le monde, ça me va 😇</li>
</ul>
<p>Voilà, assez peu de solutions concrètes jʼen ai peur mais il sʼagit bien dʼun artifice cosmétique. Je mʼen sers tel quel car je ne me heurte pas aux problèmes que tu évoques, mais je pense en effet que ces derniers peuvent être rédhibitoires.</p>
<p>Me demande en sus si je ne vais pas y ajouter (en prévision) le support de <code>text-decoration-skip</code>.</p>
</div>
		</li><li id="8236" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">Gaël Poupard <small>(Rédacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">4 décembre 2015 à 12 h 20 min</time>
					<a href="#8236">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">⚓</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>À noter, <a href="https://vincent-valentin.name/">Vincent Valentin</a> a proposé une variante bien plus intuitive à manipuler, en faisant concorder la hauteur de ligne avec la taille de l’arrière-plan. Vous trouverez <a href="https://codepen.io/ffoodd/pen/xZxOXL">une démonstration adaptée sur ce codePen</a>.</p>
</div>
		</li></ol>

				
			</main>

			<aside class="col pt8 pl0 pr0 print-hidden" role="complementary" id="sommaire">
		<div class="aside pl2 pt2 pr3">
			<h3 class="tk-bello-pro h2-like m-reset">Sommaire</h3>
			<div class="textwidget">
				<ol><li><a href="#graphiquement-grossier">Graphiquement grossier</a></li><li><a href="#le-truchement-css">Le truchement CSS</a></li><li><a href="#du-code-du-code">Du code, du code !</a></li><li><a href="#cest-pas-un-peu-verbeux">Cʼest pas un peu verbeux ?</a></li><li><a href="#et-laccessibilite">Et lʼaccessibilité ?</a></li><li><a href="#modifications">Modifications</a></li><li><a href="#comments">Commentaires</a></li></ol>
			</div>
		</div>
	</aside>

		</div>
		<footer class="mw--site mod txtcenter center" role="contentinfo" itemscope itemtype="https://schema.org/Person">
			<ul class="ffeeeedd--contact ul-reset p-reset mt0 print-hidden"><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__mastodon" href="https://mamot.fr/@ffoodd" itemprop="url"
							  rel="me"
							 title="Gaël Poupard sur Mastodon">
							<span itemprop="name">Mastodon</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__github" href="https://github.com/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur GitHub">
							<span itemprop="name">GitHub</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__codepen" href="https://codepen.io/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur CodePen">
							<span itemprop="name">CodePen</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__dribbble" href="https://dribbble.com/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur Dribbble">
							<span itemprop="name">Dribbble</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__linkedin" href="https://www.linkedin.com/pub/ga%C3%ABl-poupard/30/17b/401" itemprop="url"
							 
							 title="Gaël Poupard sur LinkedIn">
							<span itemprop="name">LinkedIn</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__rss" href="/feed/index.xml" itemprop="url"
							 
							 title="La vie en #ffoodd | Flux RSS">
							<span itemprop="name">RSS</span>
						</a>
					</li></ul>

			<p class="small">
				&copy; 2024 La vie en #ffoodd &mdash; Design et intégration par <span itemprop="name">Gaël Poupard</span> &mdash; <a href="/mentions-legales/">Mentions légales</a>
				<br>
				Sauf mention contraire, l’ensemble du contenu est sous <a rel="license" href="creativecommons.org/licenses/by-nc-sa/4.0/fr/">Licence <abbr lang="en" title="Creative Commons">CC</abbr> <abbr lang="en" title="Attribution">BY</abbr>-<abbr lang="en" title="Non Commercial">NC</abbr>-<abbr lang="en" title="Share Alike">SA</abbr></a>.
			</p>

			<meta itemprop="jobTitle" content="Webdesigner et intégrateur web">
			<meta itemprop="worksFor" content="onepoint">
		</footer>
	</body>
</html>
