<!doctype html>
<html lang="fr-FR">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<title>Le soulignement factice â€” La vie en #ffoodd</title>
		<link rel="preload" as="font" href="/assets/fonts/bello-pro.woff2">
		<link rel="preload" as="font" href="/assets/fonts/museo-slab-300.woff2"><link rel="stylesheet" href="/assets/styles.min.css" media="all">
		<link rel="stylesheet" href="/assets/impression.min.css" media="print">
		
		<meta name="description" content="Le soulignement standard sur le web est si laid que la plupart des sites le suppriment purement et simplement. Il est pourtant indispensable pour identifier ce qui diffÃ©rencie le texte de l&amp;#700;imprimÃ© : les hyperliens.">
		<meta name="generator" content="Eleventy v3.1.2">
		<link rel="icon" href="/favicon.ico" sizes="32x32">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
		<link rel="author" href="/humans.txt" type="text/plain">
		<meta property="fediverse:creator" content="@ffoodd@mamot.fr">
		<link rel="alternate" type="application/rss+xml" title="La vie en #ffoodd | Flux RSS" href="/feed/index.xml">
	</head>
	<body class="tk-museo-slab" itemscope itemtype="https://schema.org/WebPage">
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#content">Aller au contenu</a>
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#sommaire">Aller au sommaire</a>
		<div class="row">
			<nav class="col txtright pt8 w-33 pl0 pr0 print-hidden" id="nav" role="navigation" aria-label="Menu principal">
				<ul class="menu aside p-reset m-reset ul-reset">
					<li class="tk-bello-pro h1-like m-reset">
						<a href="/">ffoodd</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/journal/">Journal</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/travaux/">Parcours</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/now/">En ce moment</a>
					</li>
				</ul>
			</nav>

			<main class="col w--site pl3 pb3 pr3" id="content" role="main" role="main" itemprop="mainContentOfPage">
				<div class="logo print-hidden">
					<img src="/assets/img/embossed-ffoodd.png" alt="" id="logo" width="144" height="144">
				</div>
				<header class="center pt1 mb1" role="banner">
					<h1 class="mb0 mt0 tk-bello-pro" itemprop="name">Le soulignement factice</h1>
						<nav role="navigation" aria-labelledby="here" class="print-hidden small mt2 mb1">
	<span id="here">Vous Ãªtes ici&nbsp;: </span>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<a href="/" itemprop="url"><span itemprop="title">La vie en #ffoodd</span></a>
		<span> â€º&nbsp;</span>
	</div>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<span itemprop="title">Le soulignement factice</span>
	</div>
</nav>

						<h2 class="h3-like description" itemprop="description">Le soulignement standard sur le web est si laid que la plupart des sites le suppriment purement et simplement. Il est pourtant indispensable pour identifier ce qui diffÃ©rencie le texte de l&#700;imprimÃ©&nbsp;: les hyperliens.</h2>
				</header>
	<article role="article" itemscope itemtype="https://schema.org/Article">
			<div itemprop="articleBody">
				<p>Je vous enjoins Ã  lire la Â«Â <a href="https://letrainde13h37.fr/43/signaletique-hyperliens/">SignalÃ©tique des hyperliens</a>Â Â» sur le train de 13Â hÂ 37, par <a href="https://twitter.com/tetue">Romy Duhem-VerdiÃ¨re</a>. On y apprend notamment que â€”Â typographiquement parlantÂ â€” le soulignÃ© nÊ¼est dÊ¼aucune utilitÃ©, sauf Ã©ventuellement Ã  palier lÊ¼absence dÊ¼italique (ce qui est somme toute assez rare). En revanche sur le web, cÊ¼est <strong>le meilleur moyen de signaler un lien</strong>.</p>
<h2 id="graphiquement-grossier" tabindex="-1">Graphiquement grossier</h2>
<p>Le soulignÃ© ordinaire est effectivement grossierÂ : cÊ¼est un reliquat des toutes premiÃ¨res typographies affichÃ©es sur un Ã©cran â€”Â que je nÊ¼ai pas eu la chance de croiser. Vous pouvez le constater avec cet exemple de soulignÃ© ordinaire.<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<p>Sur le plan visuel, le soulignÃ© croise les jambages infÃ©rieures, ce qui crÃ©e un attroupement inopportun de pixels quÊ¼on pourrait qualifier de Â«Â petits pÃ¢tÃ©sÂ Â».<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>Quelques tentatives existaient dÃ©jÃ  il y a fort longtemps, comme en tÃ©moigne <a href="https://alistapart.com/article/customunderlines">lÊ¼article de Susan Robertson sur A List Apart</a> qui utilisait <code>background-image</code> pour mettre un une image rÃ©pÃ©tÃ©e en guise de soulignement. Ã‡a peut sembler Ã©trange â€”Â notamment quand vous aurez vu les exemples animÃ©sÂ â€” mais en 2004, cÊ¼Ã©tait parfaitement fabuleux.</p>
<h2 id="le-truchement-css" tabindex="-1">Le truchement CSS</h2>
<p>On ne peut malheureusement pas <strong>encore</strong> intervenir sur la propriÃ©tÃ© <code>text-decoration: underline;</code> de faÃ§on satisfaisante. Ce sera en revanche le cas un jour avec <code>text-decoration-skip: ink;</code> qui est <a href="https://drafts.csswg.org/css-text-decor-3/#text-decoration-skip-property">Ã  lÊ¼Ã©tat de brouillon au W3C (en anglais)</a>. Il nÊ¼existe actuellement aucun support de cette propriÃ©tÃ©, cependant <a href="https://css-tricks.com/almanac/properties/t/text-decoration-skip/">celle-ci est Ã©mulÃ©e sur les engins Apple omme le mentionne Chris Coyier sur CSS-Tricks (en anglais)</a>. En attendant, vous allez voir que Susan Robertson Ã©tait dÃ©jÃ  sur la bonne piste il y a 10 ans.</p>
<p>LÊ¼astuce â€”Â <em>a priori</em> trouvÃ©e par Marcin Wichary pour Medium et expliquÃ©e dans Â«Â <a href="https://medium.com/designing-medium/crafting-link-underlines-on-medium-7c03a9274f9#.hhqigq2dq">Crafting link underlines on Medium</a>Â Â»Â â€” consiste Ã  supprimer le <code>text-decoration</code> et le trucher Ã  lÊ¼aide dÊ¼un dÃ©gradÃ© pour la ligne, et dÊ¼une ombre portÃ©e sur le texte pour Â«Â nettoyer les jambagesÂ Â». Comme Susan Robertson, nous allons nous servir de la propriÃ©tÃ© <code>background-image</code>, mais au lieu de charger un gif nous utiliserons la fonction <code>linear-gradient();</code>. Si vous nÊ¼Ãªtes pas encore familier avec les dÃ©gradÃ©s, prenez le temps de lire <a href="https://developer.mozilla.org/fr/docs/Web/CSS/linear-gradient">la page dÃ©diÃ©e aux dÃ©gradÃ©s en CSS sur MDN</a>.</p>
<h2 id="du-code-du-code" tabindex="-1">Du code, du codeÂ !</h2>
<p>JÊ¼ai croisÃ© plusieurs implÃ©mentations de cette solution, toutes trÃ¨s intÃ©ressantes mais aucune ne fonctionnant Â«Â telle quelleÂ Â». En voici deux notablesÂ :</p>
<ul>
<li><a href="https://github.com/edwardtufte/tufte-css/blob/master/tufte.css#L237">la mÃ©thode utilisÃ©e par tufte-CSS (sur Github)</a>Â ;</li>
<li><a href="https://eager.io/blog/smarter-link-underlines/">la rÃ©flexion menÃ©e par Adam Schwartz pour Eager (en anglais)</a> avec une illustration interactive particuliÃ¨rement rÃ©ussie.</li>
</ul>
<p>Ã‡a donne suffisamment de matiÃ¨re pour avancer, donc jÊ¼ai triturÃ© tout Ã§a jusquÊ¼Ã  obtenir un rÃ©sultat satisfaisant mes besoins. Vous en trouverez <a href="https://codepen.io/ffoodd/pen/jbRMqJ/">un aperÃ§u rigolo sur CodePen</a>. Pour les feignasses, voici le CSS incriminÃ©Â :</p>
<pre class="language-css" tabindex="0"><code class="language-css">
<span class="token selector">.underline</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.no-highcontrast.cssgradients .underline</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> white 0 88% / 100% 0.1rem no-repeat content-box content-box<span class="token punctuation">;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> 
  <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .67<span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .67<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
  currentColor<span class="token punctuation">,</span> 
  currentColor
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 
  .05rem 0 0 white<span class="token punctuation">,</span> 
 -.05rem 0 0 white<span class="token punctuation">,</span> 
  .1rem 0 0 white<span class="token punctuation">,</span> 
 -.1rem 0 0 white<span class="token punctuation">,</span> 
  .2rem 0 0 white<span class="token punctuation">,</span> 
 -.2rem 0 0 white<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Pour la sÃ©lection */</span>
<span class="token comment">/* https://developer.mozilla.org/en-US/docs/Web/CSS/::selection */</span>
<span class="token selector">.no-highcontrast.cssgradients .underline::-moz-selection</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.no-highcontrast.cssgradients .underline::selection</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-ms-high-contrast</span><span class="token punctuation">:</span> active<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.underline</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Vous noterez les occurrences multiples de la couleur blanche â€”Â tant sous la forme du mot-clÃ© <code>white</code> que de sa notation <code>rgba()</code>. Simplement parce que mon exemple Ã  un arriÃ¨re-plan blanc. Ã‰videmment si votre texte repose sur un fond colorÃ©, ces valeurs doivent <strong>respecter la couleur dÊ¼arriÃ¨re-plan</strong>.<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
<p>Petite astuce Ã  prendre en considÃ©ration, le second paramÃ¨tre du <em>mixin</em> concerne la position du soulignement <strong>par rapport Ã  la hauteur de lÊ¼Ã©lÃ©ment</strong>. Je ne suis pas parvenu Ã  rendre Ã§a dispensable, le changement de corps et de caractÃ¨res entraÃ®nant une trop grande variation sur la hauteur de ligne. Dans mes diffÃ©rents cas, la position varie entre 88% et 96%.</p>
<h2 id="cest-pas-un-peu-verbeux" tabindex="-1">CÊ¼est pas un peu verbeuxÂ ?</h2>
<p><strong>Si</strong>. Pour plusieurs raisons que je tente de vous expliquerÂ :</p>
<ul>
<li>les propriÃ©tÃ©s dÊ¼arriÃ¨re-plan sont trÃ¨s riches, avec dans la notation raccourcieÂ :
<ul>
<li><code>background-color</code>Â </li>
<li><code>background-position</code>Â </li>
<li><code>background-size</code>Â </li>
<li><code>background-repeat</code>Â </li>
<li><code>background-origin</code>Â </li>
<li><code>background-clip</code>.</li>
</ul>
</li>
<li>deux dÃ©gradÃ©s, dont le premier (couleur dÊ¼arriÃ¨re-plan en semi-transparent) sert Ã  allÃ©ger visuellement le second â€”Â qui utilise <code>currentColor</code> pour conserver la couleur du texte sur lequel il est appliquÃ©Â ;</li>
<li>lÊ¼ombre sur le texte, dont le seul et unique objectif est dÊ¼Ã©viter la collision entre les jambages infÃ©rieurs et le soulignementÂ ;</li>
<li>et deux propriÃ©tÃ©s auxquelles vous ne vous attendiez peut-Ãªtre pasÂ : <code>display: inline;</code> et <code>width: auto;</code> dont lÊ¼intÃ©rÃªt est de sÊ¼assurer que notre charmant soulignÃ© suive bien le texte <strong>et uniquement le texte</strong>.<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li>
</ul>
<ul>
<li>les classes de tests du support des dÃ©gradÃ©s CSS et de lÊ¼activation du mode de contrastes Ã©levÃ©s.</li>
</ul>
<p>Ã‡a fait beaucoup de code, mais tout est indispensable.</p>
<h2 id="et-laccessibilite" tabindex="-1">Et lÊ¼accessibilitÃ©Â ?</h2>
<p>Pour commencer, il est nÃ©cessaire de mettre en place deux scripts fonctionnant sur le mÃªme principeÂ :</p>
<ol>
<li>un test de fonctionnalitÃ© tel que <em>Modernizr</em> â€”Â <a href="https://modernizr.com/download?setclasses&amp;q=gradient">dont vous pouvez gÃ©nÃ©rer une version uniquement pour les dÃ©gradÃ©s CSS</a>Â â€” afin dÊ¼appliquer ce CSS de soulignement uniquement si le navigateur supporte les dÃ©gradÃ©sÂ ;</li>
<li>un second test pour <strong>dÃ©tecter lÊ¼activation du mode de contrastes Ã©levÃ©s</strong> â€”Â qui supprime les arriÃ¨res-plans et laisserait donc nos Ã©lÃ©ments soulignÃ©s complÃ¨tement nus et sans soulignementÂ â€” mais qui dÃ©tecte Ã©galement si <strong>lÊ¼utilisateur a personnalisÃ© la couleur des liens</strong>Â : vous trouverez la source sur <a href="https://jsfiddle.net/karlgroves/XR8Su/6/">un JSFiddle de Karl Groves</a> du Paciello Group (quÊ¼il a lui-mÃªme rÃ©cupÃ©rÃ© de Hans Hillen) que jÊ¼ai modifiÃ© afin de tester un lien plutÃ´t quÊ¼une division.</li>
</ol>
<p>Les navigateurs ne supportant pas les dÃ©gradÃ©s ou Ã©tant utilisÃ© conjointement au mode de contrastes Ã©levÃ©s resteront avec leur bon vieux <code>text-decoration: underline;</code>.</p>
<p>Un autre cas pointu est Ã  signalerÂ : <strong>la sÃ©lection du texte en question</strong>. Il est impossible Ã  ma connaissance de simplement supprimer les styles ajoutÃ©s (<code>unset</code> sert <em>a priori</em> Ã  Ã§a, mais son fonctionnement et son support ne sont pas convaincants). Il faut donc personnaliser la sÃ©lection, ce que je fais en inversant couleur dÊ¼arriÃ¨re-plan et couleur de texte et en supprimant lÊ¼ombre sous le texte <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::selection">Ã  lÊ¼aide du pseudo-Ã©lÃ©ment dÃ©diÃ© (en anglais)</a>.</p>
<p>Merci Ã  <a href="https://twitter.com/johan_ramon">Johan Ramon</a> pour mÊ¼avoir rappelÃ© Ã  lÊ¼ordre avec ces dÃ©tails croustillantsÂ !</p>
<h2 id="modifications" tabindex="-1">Modifications</h2>
<h3 id="27-octobre-2016" tabindex="-1">27 octobre 2016</h3>
<p>Une petite amÃ©lioration est apportÃ©e, de la maniÃ¨re suivanteÂ :</p>
<ul>
<li>si le navigateur gÃ¨re <strong>les requÃªtes de fonctionnalitÃ©s</strong> <em>via</em> <code>@supports</code> et quâ€™il supporte <code>text-decoration-skip: ink;</code>, on applique cette propriÃ©tÃ©Â ;</li>
<li>si le navigateur gÃ¨re les requÃªtes de fonctionnalitÃ© mais pas la propriÃ©tÃ©, on applique le <code>background-image</code> lorsque le mode de contrastes Ã©levÃ©s nâ€™est pas activÃ©.</li>
</ul>
<p>Si ces ajouts vous intÃ©ressent, voici un peu de lecture supplÃ©mentaireÂ :</p>
<ul>
<li><a href="https://developer.mozilla.org/fr/docs/Web/CSS/@supports"><code>@supports</code> sur MDN</a>Â ;</li>
<li><a href="https://developer.mozilla.org/fr/docs/Web/CSS/text-decoration-skip"><code>text-decoration-skip</code>, Ã©galement sur MDN</a>.</li>
</ul>
<p>Tout peut se rÃ©sumer comme suitÂ :</p>
<pre class="language-css" tabindex="0"><code class="language-css">
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">text-decoration-skip</span><span class="token punctuation">:</span> ink<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-skip</span><span class="token punctuation">:</span> ink<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Le <a href="https://codepen.io/ffoodd/pen/jbRMqJ/">CodePen</a> est Ã  jour pour que vous jetiez un Å“il, et je lâ€™ai <a href="https://gist.github.com/ffoodd/d4bee79e6af99c05f0a32542d66d5969">exportÃ© dans un Gist</a> Ã©galement.</p>
<p>Cet ajout a quelques effets notablesÂ :</p>
<ul>
<li>certains navigateurs sont dÃ©sormais exclus par le manque de support de <code>@supports</code>, tels que le <em>Stock browser Adnroid</em>, <em>Blackberry Browser</em> ou <em>IE Mobile</em>. Ã‡a me semble une bonne chose puisque ces styles sont relativement coÃ»teux, ces vieux navigateurs mobiles seront Ã©pargnÃ©sÂ ;</li>
<li>seul Safari 9 supporte <code>text-decoration-skip: ink;</code>, et je ne suis pas certain que le rendu soit le mÃªme. Ce serait Ã  tester et ajuster au cas par cas.</li>
</ul>
<p>Mais nous voilÃ  avec un pied dans le futurÂ !</p>
<h3 id="20-janvier-2017" tabindex="-1">20 janvier 2017</h3>
<p><a href="https://twitter.com/7studio/status/822116634542374914">Xavier Zalawa rencontre un bug de Blink gÃªnant</a> impliquant <code>currentColor</code> dans un <code>linear-gradient</code> en cas de changement dâ€™Ã©tat. Câ€™est le cas dans ce soulignement facticeÂ : <code>currentColor</code> utilisÃ© dans le background nâ€™est pas mis Ã  jour lors du survol ou de la prise de focus, sans Ãªtre rÃ©pÃ©tÃ©â€”Â ce qui ruine littÃ©ralement lâ€™intÃ©rÃªt de currentColorâ€¦</p>
<p><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=595467">Le bug est ouvert chez Chromium</a>.</p>
<p><a href="https://twitter.com/iamvdo/status/822130026384592898">Vincent De Oliveira a cependant trouvÃ© une astuce pour le faire fonctionner sans devoir rÃ©pÃ©ter la propriÃ©tÃ©</a> et Ã§a, câ€™est cool.</p>
<p>En repassant donc sur le <a href="https://codepen.io/ffoodd/pen/jbRMqJ">CodePen</a> pour le mettre Ã  jour, je me suis Ã©galement rendu compte que la <em>media query</em> <code>-ms-high-contrast: active</code> Ã©tait inutileÂ ; je lâ€™ai donc supprimÃ©e. Cette requÃªte nâ€™est comprise que par IE 11 et infÃ©rieur â€”Â cependant comme elle Ã©tait imbriquÃ©e dans une rÃ¨gle @supports ces derniers ne pouvaient pas la lire. Hop, un peu de code en moinsÂ !</p>
<ol class="footnotes-list small mt2 pt2 pb2">
<li id="fn1" class="footnote-item"><p>Percevez-vous comme ce soulignement est affordantÂ ? On a envie de cliquer dessus, pas vraiÂ ? <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Terme technique issu dÊ¼une longue histoire de la calligraphie Ã  la plume (ou de lÊ¼apprentissage de lÊ¼Ã©criture avec un stylo plume pour les plus jeunes dÊ¼entre vous). <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Vous avez probablement dÃ©jÃ  compris que si votre texte repose sur une image ou un dÃ©gradÃ©, il nÊ¼y aura probablement pas de salut pour votre soulignement. <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Sans cette astuce, certains Ã©lÃ©ments auraient un soulignement sur toute la largeur, mÃªme si le texte ne la remplit pas â€”Â et dÊ¼autres Ã©lÃ©ments auraient un soulignement uniquement sur la derniÃ¨re ligne, si dÊ¼aventures ils fussent sur plusieurs lignes. <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p>
</li>


			</div>
		<footer class="small mt2">
			<p class="pl2 mt0 pt1">
				Article rÃ©digÃ© par <strong itemprop="author"><span class="fn">GaÃ«l Poupard</span></strong>.
				PubliÃ© le <time class="updated" datetime="2015-11-20T15:16:37" itemprop="datePublished">20 novembre 2015</time>
				 et modifiÃ© le <time class="updated" datetime="2017-01-20T11:20:39" itemprop="dateModified">20 janvier 2017</time>.
			</p>
		</footer>
	</article>
<div id="comments" class="comments-area pl2 pt2 mt2 print-hidden"><h2 class="comments-title" itemprop="interactionCount" content="UserComments:5">
	5 commentaires sur
	<span class="tk-bello-pro h2-like" itemprop="discusses">Â«&nbsp;Le soulignement factice&nbsp;Â»</span>
	<a href="#sommaire" class="scroll small" title="Retour au sommaire">â¤´</a>
</h2>
<ol class="commentlist ul-reset pl0" itemprop="comment"><li id="8146" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/e884b2ba7d66cfea7cb2185922c7a183?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/e884b2ba7d66cfea7cb2185922c7a183?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1"><a href="https://borisschapira.com" class="url" rel="ugc external nofollow">Boris</a></em>
					
					<time datetime="[object Object]" itemprop="commentTime">24 novembre 2015 Ã  12 h 05 min</time>
					<a href="#8146">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">âš“</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>TrÃ¨s sympa ! Jâ€™aurais cependant lÃ©gÃ¨rement modifiÃ© la mÃ©thode HCTest pour quâ€™elle renvoie une fonction renvoyant toujours true ou false. Ainsi, si je lâ€™appelle une seconde fois ailleurs pour un autre besoin, pas besoin dâ€™exÃ©cuter Ã  nouveau lâ€™ensemble du test ğŸ˜‰</p>
</div>
		</li><li id="8147" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">GaÃ«l Poupard <small>(RÃ©dacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">24 novembre 2015 Ã  12 h 09 min</time>
					<a href="#8147">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">âš“</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>HÃ©hÃ© câ€™est en cours, nous crÃ©ons un test Modernizr Ã  plugger tout bÃªtementÂ ğŸ˜<br>
Ã‡a devrait arriver sur GitHub dans pas longtempsÂ ! Jâ€™avoue avoir un peu bricolÃ© pour lâ€™exempleÂ ğŸ˜‡</p>
</div>
		</li><li id="8227" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/6381f65810606a24c5f7086d072342f2?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/6381f65810606a24c5f7086d072342f2?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1"><a href="http://marieguillaumet.com/" class="url" rel="ugc external nofollow">Marie Guillaumet</a></em>
					
					<time datetime="[object Object]" itemprop="commentTime">3 dÃ©cembre 2015 Ã  17 h 27 min</time>
					<a href="#8227">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">âš“</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Hello ! Jâ€™utilise ta mÃ©thode depuis quelques semaines sur un projet perso (qui nâ€™est pas encore en ligne). Cela fonctionne globalement bien, mais je note quelques trucsÂ :</p>
<ul>
<li>Pour le moment, jâ€™appelle le test JS qui dÃ©tecte le mode Â«Â contraste Ã©levÃ©Â Â» un peu tard (le script est situÃ© en bas du DOM), ce qui fait quâ€™on voit le soulignÃ© des lignes un instant avant quâ€™il soit remplacÃ© par les jolis soulignÃ©s personnalisÃ©s. Jâ€™ai pas trop envie de remonter mon JS dans le headÂ ; aussi, aurais-tu une suggestion pour amÃ©liorer Ã§aÂ ?</li>
<li>Je trouve dommage que les liens concernÃ©s par ce joli soulignÃ© doivent forcÃ©ment Ãªtre en display: inline ğŸ™ Si on pouvait utiliser du inline-block, Ã§a serait vraiment NoÃ«lÂ ! Mais je comprends bien la contrainte.</li>
<li>Le fait que les liens concernÃ©s aient une couleur dâ€™arriÃ¨re-plan est un peu gÃªnant quand ils sâ€™affichent par-dessus une image dâ€™arriÃ¨re-plan, genre texture ou autre. ğŸ™ Cela ne peut donc fonctionner parfaitement que sur des arriÃ¨res-plans unis.</li>
<li>Jâ€™ai notÃ© aussi que selon les navigateurs, le soulignÃ© peut changer en Ã©paisseur, avec le mÃªme font-size et les mÃªmes paramÃ¨tres. Sans doute encore quelques tests Ã  faire de mon cÃ´tÃ© pour trouver le bon paramÃ©trage du dÃ©gradÃ©.</li>
</ul>
<p>Mais bon, lâ€™effet permis par le text-shadow sur les descendantes est vraiment apprÃ©ciable. Je pense quâ€™on se rapproche de la vÃ©ritÃ© ğŸ™‚ Encore merci pour ce partage.</p>
</div>
		</li><li id="8234" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">GaÃ«l Poupard <small>(RÃ©dacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">4 dÃ©cembre 2015 Ã  08 h 50 min</time>
					<a href="#8234">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">âš“</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Coucou Marie, merci pour ce commentaire ğŸ˜„</p>
<p>Effectivement rien nÊ¼est parfait, sinon cet effet serait ultra-rÃ©panduÂ ! JÊ¼essaie de rÃ©pondre point par pointÂ :</p>
<ul>
<li>Le test JS a besoin de vÃ©rifier la valeur calculÃ©e par le navigateur, cÊ¼est donc intrinsÃ¨quement lent puisquÊ¼il nous faut le DOM prÃªt, ajouter et styler un Ã©lÃ©ment puis le supprimer. En terme de performance, Ã§a nÊ¼est clairement pas terrible. En revanche je nÊ¼ai jamais notÃ© ce dÃ©lai, malgrÃ© des pages parfois trÃ¨s lourdes et blindÃ©es de scriptsâ€¦ As-tu essayÃ© avec le test injectÃ© <em>via</em> ModernizrÂ ? La seule solution que je vois â€”Â autre que lÊ¼exÃ©cuter dans le <code>&lt;head&gt;</code>Â â€” serait de renverser lÊ¼effetÂ : lÊ¼appliquer par dÃ©faut et ne remettre <code>text-decoration</code> que si le test est positif. Le seul effet de bord que je devine serait que les soulignements pourraient apparaÃ®tre avec un lÃ©ger dÃ©calage en mode de contrastes Ã©levÃ©s. Pourquoi pasÂ ? Mon premier contre-argument est que Ã§a me semble aller Ã  lÊ¼encontre de lÊ¼amÃ©lioration progressive, mais je suppose que Ã§a se discute.</li>
<li>Le display, je ne perds pas espoirÂ ! Je pense malheureusement quÊ¼il sÊ¼agira dÊ¼un second <em>mixin</em>, mais je continue Ã  jouer avec. JÊ¼avais bon espoir en fouillant du cÃ´tÃ© des <code>repeating-linear-gradient</code> mais cÊ¼est beaucoup plus fin Ã  gÃ©rer.</li>
<li>En rÃ©alitÃ© la couleur dÊ¼arriÃ¨re-plan nÊ¼est pas impÃ©rative â€”Â mais comme lÊ¼ombre portÃ©e a nÃ©cessairement une couleur, mettre un arriÃ¨re-plan transparent serait probablement beaucoup plus moche. Selon ton arriÃ¨re-plan, Ã§a peut se tenterÂ ğŸ˜‰ On peut envisager de choisir une ombre semi-transparente, mais lÊ¼effet sur les descendantes sÊ¼en ressentira forcÃ©ment.</li>
<li>Concernant lÊ¼Ã©paisseur je lÊ¼avais notÃ© quand je travaillais en <code>em</code>, et le passage en <code>rem</code> a grandement amÃ©liorÃ© les choses. Et je tÊ¼avoue ne pas y avoir accordÃ© plus dÊ¼importance que Ã§a, chercher Ã  obtenir la mÃªme Ã©paisseur sur tous les navigateurs me semble une perte de temps. Du moment que le rendu soit agrÃ©able Ã  lÊ¼Å“il chez tout le monde, Ã§a me vaÂ ğŸ˜‡</li>
</ul>
<p>VoilÃ , assez peu de solutions concrÃ¨tes jÊ¼en ai peur mais il sÊ¼agit bien dÊ¼un artifice cosmÃ©tique. Je mÊ¼en sers tel quel car je ne me heurte pas aux problÃ¨mes que tu Ã©voques, mais je pense en effet que ces derniers peuvent Ãªtre rÃ©dhibitoires.</p>
<p>Me demande en sus si je ne vais pas y ajouter (en prÃ©vision) le support de <code>text-decoration-skip</code>.</p>
</div>
		</li><li id="8236" class="mb2" itemscope itemtype="https://schema.org/UserComments">
			<article>
				<header><img alt="" loading="lazy"
								 src="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=44&d=mm&r=g"
								 srcset="https://secure.gravatar.com/avatar/76dde5fd394081aa4261802372fe2e33?s=88&d=mm&r=g 2x"
								 class="avatar avatar-44 photo"
								 height="44" width="44"><em itemprop="creator" class="pl1">GaÃ«l Poupard <small>(RÃ©dacteur)</small></em>
					
					<time datetime="[object Object]" itemprop="commentTime">4 dÃ©cembre 2015 Ã  12 h 20 min</time>
					<a href="#8236">
						<span class="screen-reader-text">Ancre vers ce commentaire</span>
						<span aria-hidden="true">âš“</span>
					</a>
				</header>
			</article>
			<div itemprop="CommentText"><p>Ã€ noter, <a href="https://vincent-valentin.name/">Vincent Valentin</a> a proposÃ© une variante bien plus intuitive Ã  manipuler, en faisant concorder la hauteur de ligne avec la taille de lâ€™arriÃ¨re-plan. Vous trouverez <a href="https://codepen.io/ffoodd/pen/xZxOXL">une dÃ©monstration adaptÃ©e sur ce codePen</a>.</p>
</div>
		</li></ol>
</main><aside class="col pt8 pl0 pr0 print-hidden" role="complementary" id="sommaire">
		<div class="aside pt1 pr3 pb1 pl2">
			<h3 class="tk-bello-pro h2-like m-reset">Sommaire</h3>
			<div class="textwidget">
				<ol><li><a href="#graphiquement-grossier">Graphiquement grossier</a></li><li><a href="#le-truchement-css">Le truchement CSS</a></li><li><a href="#du-code-du-code">Du code, du codeÂ !</a></li><li><a href="#cest-pas-un-peu-verbeux">CÊ¼est pas un peu verbeuxÂ ?</a></li><li><a href="#et-laccessibilite">Et lÊ¼accessibilitÃ©Â ?</a></li><li><a href="#modifications">Modifications</a></li><li><a href="#comments">Commentaires</a></li></ol>
			</div>
		</div>
	</aside>
		</div>
		<footer class="mw--site mod txtcenter center" role="contentinfo" itemscope itemtype="https://schema.org/Person">
			<ul class="ffeeeedd--contact ul-reset p-reset mt0 print-hidden"><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__mastodon" href="https://mamot.fr/@ffoodd" itemprop="url" rel="me"title="GaÃ«l Poupard sur Mastodon">
							<span itemprop="name">Mastodon</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__github" href="https://github.com/ffoodd" itemprop="url"title="GaÃ«l Poupard sur GitHub">
							<span itemprop="name">GitHub</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__codepen" href="https://codepen.io/ffoodd" itemprop="url"title="GaÃ«l Poupard sur CodePen">
							<span itemprop="name">CodePen</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__dribbble" href="https://dribbble.com/ffoodd" itemprop="url"title="GaÃ«l Poupard sur Dribbble">
							<span itemprop="name">Dribbble</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__linkedin" href="https://www.linkedin.com/pub/ga%C3%ABl-poupard/30/17b/401" itemprop="url"title="GaÃ«l Poupard sur LinkedIn">
							<span itemprop="name">LinkedIn</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__rss" href="/feed/index.xml" itemprop="url"title="La vie en #ffoodd | Flux RSS">
							<span itemprop="name">RSS</span>
						</a>
					</li></ul>

			<p class="small">
				&copy; 2026 La vie en #ffoodd &mdash; Design et intÃ©gration par <span itemprop="name">GaÃ«l Poupard</span> &mdash; <a href="/mentions-legales/">Mentions lÃ©gales</a>
				<br>
				Sauf mention contraire, lâ€™ensemble du contenu est sous <a rel="license" href="creativecommons.org/licenses/by-nc-sa/4.0/fr/">Licence <abbr lang="en" title="Creative Commons">CC</abbr> <abbr lang="en" title="Attribution">BY</abbr>-<abbr lang="en" title="Non Commercial">NC</abbr>-<abbr lang="en" title="Share Alike">SA</abbr></a>.
			</p>

			<meta itemprop="jobTitle" content="Webdesigner et intÃ©grateur web">
			<meta itemprop="worksFor" content="onepoint">
		</footer></body>
</html>
