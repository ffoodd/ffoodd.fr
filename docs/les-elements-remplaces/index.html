<!doctype html>
<html lang="fr-FR">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Les éléments remplacés — La vie en #ffoodd</title>
		<meta name="description" content="Les ressources sont rares sur le sujet, et le sujet des éléments remplacés se mélange parfois avec celui des balises auto-fermantes.">
		<link rel="icon" href="/favicon.ico" sizes="32x32">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
		<link rel="author" href="/humans.txt" type="text/plain">
		<link rel="stylesheet" href="/assets/styles.min.css" media="all">
		<link rel="stylesheet" href="/assets/impression.min.css" media="print">
		<link rel="alternate" type="application/rss+xml" title="La vie en #ffoodd | Flux RSS" href="/feed/index.xml"></head>
	<body class="tk-museo-slab" itemscope itemtype="https://schema.org/WebPage">
		
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#content">Aller au contenu</a>
	<a class="skip scroll pa1 inbl smaller print-hidden" href="#sommaire">Aller au sommaire</a>

		<div class="row">
			<nav class="col txtright pt8 w-33 pl0 pr0 print-hidden" id="nav" role="navigation" aria-label="Menu principal">
				<ul class="menu aside p-reset m-reset ul-reset">
					<li class="tk-bello-pro h1-like m-reset">
						<a href="/">ffoodd</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/plus/">À propos</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/journal/">Journal</a>
					</li>
					<li class="h3-like m-reset">
						<a href="/travaux/">Parcours</a>
					</li>
				</ul>
			</nav>

			<main class="col w--site pl3 pb3 pr3" id="content" role="main" role="main" itemprop="mainContentOfPage">
				<div class="logo print-hidden">
					<img src="/assets/img/embossed-ffoodd.png" alt="" id="logo" width="144" height="144">
				</div>
				<header class="center pt1 mb1" role="banner">
					<h1 class="mb0 mt0 tk-bello-pro" itemprop="name">Les éléments remplacés</h1>
					
						<nav role="navigation" aria-labelledby="here" class="print-hidden small mt2 mb1">
	<span id="here">Vous êtes ici&nbsp;: </span>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<a href="/" itemprop="url"><span itemprop="title">La vie en #ffoodd</span></a>
		<span> ›&nbsp;</span>
	</div>
	<div class="inbl" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
		<span itemprop="title">Les éléments remplacés</span>
	</div>
</nav>

					
					
						<h2 class="h3-like description" itemprop="description">Les ressources sont rares sur le sujet, et le sujet des éléments remplacés se mélange parfois avec celui des balises auto-fermantes.</h2>
					
				</header>
				
	<article role="article" itemscope itemtype="https://schema.org/Article">
		<time class="screen-reader-text" datetime="2015-11-16T19:16:54" itemprop="datePublished">16 novembre 2015</time>
		
			<div itemprop="articleBody">
				<p>Pourtant — et malgré le fait que <strong>la plupart</strong> des éléments remplacés soient des balises auto-fermantes — ça nʼest pas la même chose !</p>
<h2 id="les-mauvaises-definitions" tabindex="-1">Les mauvaises définitions</h2>
<h3 id="la-definition-de-dudley-storey" tabindex="-1">La définition de Dudley Storey</h3>
<p>La plus connue est celle proposée par Dudley Storey dans son article « <a href="https://thenewcode.com/461/What-The-Heck-Is-A-Replaced-Element">What’s A Replaced Element?</a> » (traduit en Français sur <a href="https://la-cascade.io/quest-ce-quun-element-remplace/">La Cascade</a>) que voici :</p>
<blockquote>
<p>Les éléments remplacés sont essentiellement des éléments qui ont des dimensions pré-déterminées, sans bénéficier de CSS. Une autre façon de comprendre les éléments remplacés est “ ce sont les éléments dont le contenu est remplacé par une source extérieure ”.</p>
</blockquote>
<p>Il prend pour exemple lʼélément <code>input</code> qui, <strong>même vide</strong>, aura des dimensions intrinsèques — car le navigateur remplace lʼélément par un objet avec des dimensions par défaut pré-déterminées.</p>
<p>Cʼest très bien, mais ça nʼest pas tout à fait ça. En réalité <strong>cette définition est orientée</strong> vers la conclusion de lʼarticle, qui précise que les éléments remplacés ne peuvent pas se voir appliquer de contenu généré à lʼaide de pseudo-élément.</p>
<p><strong>Figurez-vous que cʼest parfois possible.</strong> Il sʼagit dʼune simplification abusive.</p>
<h3 id="la-reference-de-sitepoint" tabindex="-1">La référence de SitePoint</h3>
<p>SitePoint propose <a href="https://reference.sitepoint.com/css/replacedelements">une définition un peu plus pointue (en anglais)</a> indiquant quʼun élément remplacé est un élément dont lʼapparence et les dimensions sont définies par une ressource externe. Les détails sont assez intéressants (notamment le dernier paragraphe sur le contexte <em>inline</em>) mais là encore cʼest <strong>en léger décalage avec la réalité</strong>.</p>
<p>En revanche ce qui est amusant, cʼest que <strong>la définition réelle est cachée dans le troisième paragraphe</strong> : « Les éléments remplacés peuvent également avoir des pré-requis de mise en forme imposés par lʼélément, <strong>hors du contrôle du CSS</strong> ; par exemple, les contrôles de lʼinterface utilisateur rendus pour les éléments de formulaires ».</p>
<p>En fait ils ne se contentent pas de pouvoir.</p>
<h2 id="la-specification-cachee" tabindex="-1">La spécification cachée</h2>
<p>Soyons honnête, elle est vraiment galère à trouver. Le W3C précise <a href="https://www.w3.org/TR/CSS21/conform.html#replaced-element">dans CSS2.1 (en anglais)</a> quʼun élément remplacé « est un élément dont le contenu est hors de la portée du modèle de mise en forme CSS ». Si vous en avez le courage, <a href="https://www.w3.org/TR/html51/rendering.html#replaced-elements">la spécification HTML5</a> est plus absconse mais rejoint globalement ce qui est dit précédemment.</p>
<p><strong>Simple, non ?</strong> Ça inclut effectivement les éléments qui ont des dimensions intrinsèques, même lorsquʼelles peuvent être surchargées <em>via</em> CSS. <a href="https://github.com/ffoodd/a11y.css/blob/main/README-fr.md">La liste dont je dispose est documentée sur a11y.css</a>. Elle contient lʼensemble des balises auto-fermantes, ainsi que les éléments de formulaires et les objets multimédias.</p>
<h2 id="le-cas-des-boutons" tabindex="-1">Le cas des boutons</h2>
<p>Vous remarquerez que cette liste nʼinclut pas lʼélément <code>&lt;button&gt;</code>. Pour une bonne raison, à mon humble avis : cet élément nʼest pas un cas particulier dans la perspective de travail dʼa11y.css puisquʼ<strong>il accepte les pseudos-éléments.</strong></p>
<p>Voilà qui discrédite poliment la définition de Dudley Storey. Cela fait cependant de <code>&lt;button&gt;</code> une exception parmi les cas particuliers…</p>
<p>Cependant <a href="https://twitter.com/Nico3333fr/status/666185952608567296">comme Nicolas Hoffmann me lʼa indiqué</a>, <code>&lt;button&gt;</code> est bel et bien un élément remplacé. Fidèlement à la spécification, il dispose en effet de styles pré-définis — un savant mélange entre la vision de votre navigateur et celle de votre système dʼexploitation.</p>
<h2 id="la-singularite" tabindex="-1">La singularité</h2>
<p>Les éléments remplacés ont donc des dimensions intrinsèques, et ça inclut les boutons. Lorsque vous spécifiez une largeur sur un élément remplacé, <strong>vous écrasez sa largeur intrinsèque</strong>. Jusque là, tout va bien. Vous pouvez jouer avec une image, effectivement cʼest chouette.</p>
<p>Maintenant pour rigoler, prenez un <code>&lt;button&gt;</code> et affublez-le de ce CSS :</p>
<pre class="language-css" tabindex="0"><code class="language-css">
<span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 20em<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Jʼavais tendance à penser que ce CSS ne produirait rien, puisquʼ<strong>on ne peut pas définir de dimension sur un élément <em>inline</em></strong>. Sauf quʼun bouton a donc des dimensions intrinsèques quʼon peut surcharger — alors même que ces styles sont considérés comme hors de portée de CSS. La magie opère : <strong>un bouton en ligne obéira à une définition de sa largeur</strong>.</p>
<p>Vous pouvez jouer avec <a href="https://dabblet.com/gist/d94397d5d22a7cc9c1eb">ce dabblet</a> pour vous en convaincre.</p>
<h2 id="un-reel-probleme" tabindex="-1">Un réel problème ?</h2>
<p>Probablement pas. Mais je me suis malgré tout retrouvé dans une situation enquiquinante. Je souhaitais tout bêtement mettre en place un soulignement amélioré en CSS à lʼaide dʼun dégradé et dʼune ombre. Or ce soulignement doit évidemment suivre le texte, y compris si ledit texte passe à la ligne. Cʼest généralement aisé pour nʼimporte quel élément : on le met en <code>display: inline;</code> et le tour est joué. <strong>Sauf que sur un bouton, ça ne fonctionne pas</strong>.</p>
<p>Heureusement, <a href="https://twitter.com/htmlvv/status/666184830456078336">Vincent mʼa donné une solution qui fonctionne</a>. Tant pis pour le bouton, cʼest le <code>&lt;span&gt;</code> qui aura droit à un soulignement amélioré.<br>
**<br>
Mais bon sang, quelle aventure pour un bête bouton qui ne veut pas se mettre en ligne !**</p>

			</div>
		
		<footer class="small mt2">
			<p class="pl2 mt0 pt1">
				Article rédigé par <strong itemprop="author"><span class="fn">Gaël Poupard</span></strong>.
				Modifié le <time class="updated" datetime="2015-11-30T10:34:36" itemprop="dateModified">30 novembre 2015</time>.
			</p>
		</footer>
	</article>

				
				
			</main>

			<aside class="col pt8 pl0 pr0 print-hidden" role="complementary" id="sommaire">
		<div class="aside pl2 pt2 pr3">
			<h3 class="tk-bello-pro h2-like m-reset">Sommaire</h3>
			<div class="textwidget">
				<ol><li><a href="#les-mauvaises-definitions">Les mauvaises définitions</a></li><li><a href="#la-specification-cachee">La spécification cachée</a></li><li><a href="#le-cas-des-boutons">Le cas des boutons</a></li><li><a href="#la-singularite">La singularité</a></li><li><a href="#un-reel-probleme">Un réel problème ?</a></li></ol>
			</div>
		</div>
	</aside>

		</div>
		<footer class="mw--site mod txtcenter center" role="contentinfo" itemscope itemtype="https://schema.org/Person">
			<ul class="ffeeeedd--contact ul-reset p-reset mt0 print-hidden"><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__mastodon" href="https://mamot.fr/@ffoodd" itemprop="url"
							  rel="me"
							 title="Gaël Poupard sur Mastodon">
							<span itemprop="name">Mastodon</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__github" href="https://github.com/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur GitHub">
							<span itemprop="name">GitHub</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__codepen" href="https://codepen.io/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur CodePen">
							<span itemprop="name">CodePen</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__dribbble" href="https://dribbble.com/ffoodd" itemprop="url"
							 
							 title="Gaël Poupard sur Dribbble">
							<span itemprop="name">Dribbble</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__linkedin" href="https://www.linkedin.com/pub/ga%C3%ABl-poupard/30/17b/401" itemprop="url"
							 
							 title="Gaël Poupard sur LinkedIn">
							<span itemprop="name">LinkedIn</span>
						</a>
					</li><li class="inbl pa1" itemscope itemprop="contactPoint">
						<a class="skip inbl ir ffeeeedd--sprite ffeeeedd--sprite__rss" href="/feed/index.xml" itemprop="url"
							 
							 title="La vie en #ffoodd | Flux RSS">
							<span itemprop="name">RSS</span>
						</a>
					</li></ul>

			<p class="small">
				&copy; 2024 La vie en #ffoodd &mdash; Design et intégration par <span itemprop="name">Gaël Poupard</span> &mdash; <a href="/mentions-legales/">Mentions légales</a>
				<br>
				Sauf mention contraire, l’ensemble du contenu est sous <a rel="license" href="creativecommons.org/licenses/by-nc-sa/4.0/fr/">Licence <abbr lang="en" title="Creative Commons">CC</abbr> <abbr lang="en" title="Attribution">BY</abbr>-<abbr lang="en" title="Non Commercial">NC</abbr>-<abbr lang="en" title="Share Alike">SA</abbr></a>.
			</p>

			<meta itemprop="jobTitle" content="Webdesigner et intégrateur web">
			<meta itemprop="worksFor" content="onepoint">
		</footer>
	</body>
</html>
